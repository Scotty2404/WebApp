import{a as k}from"./chunk-TIK4CJX7.js";import{$ as we,A as ve,B as Fe,C as Rt,D as Z,E as dr,F as lr,G as fr,H as pr,I as _e,J as mr,K as gr,L as hr,M as br,N as X,O as vr,P as yr,Q as wr,R as Sr,S as Ir,T as Er,V as $,W as Mr,X as Je,Y as Re,Z as ye,_ as V,a as Po,aa as R,b as No,ba as Tr,ca as kr,da as Se,ea as Ie,f as I,fa as Dr,g as tr,i as or,j as rr,k as nr,l as ir,r as sr,s as ar,t as cr,u as ur,v as Ge,w as Oe,x as be,y as Ae,z as ze}from"./chunk-N4R2D4AS.js";import{a as m}from"./chunk-VTGFZXAA.js";import{a as xr,b as Qe,c as Cr,d as Or}from"./chunk-37JGKMDG.js";import{$ as Ue,$a as b,A as z,Ad as qo,B as K,D as y,Da as me,Ed as Yo,F as U,Fb as ko,G as io,Gb as ge,Gd as Ce,H as so,Ha as B,Ia as $e,Id as Go,J as ao,Ja as ho,Jd as zo,K as kt,Ld as Jo,M as co,Md as Qo,Nd as Zo,Oa as Le,Ob as We,Od as Xo,Pb as Be,Pd as er,Qa as bo,R as H,Ra as Ct,Tb as Do,U as Ne,Ua as ke,Wa as De,X as re,Xc as _t,Y as uo,_ as C,_a as Y,_b as xo,a,aa as fe,ab as v,b as d,ba as q,bb as j,ca as f,cd as Ke,da as pe,e as u,ea as lo,ed as Ro,fd as qe,g as de,gd as Ye,h as le,ib as Ot,ja as fo,jb as vo,jc as Co,jd as Uo,kb as yo,kd as W,la as je,lb as At,ld as jo,ma as po,mb as wo,na as mo,nd as $o,ob as So,oc as Ft,od as Lo,pb as Io,pc as Oo,pd as Wo,q as A,qd as J,r as S,ra as Dt,rc as He,s as h,sc as he,tc as Ve,td as Bo,u as T,uc as Ao,ud as g,va as go,vb as Eo,vc as Fo,vd as Q,wa as xt,wb as Mo,wd as Ho,xb as _,xc as _o,xd as Vo,yb as xe,yd as Ko,z as Tt,za as F,zb as To}from"./chunk-QHXVKW2R.js";var Di=["*",[["mat-toolbar-row"]]],xi=["*","mat-toolbar-row"],Ci=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=ho({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return e})(),Ze=(()=>{class e{_elementRef=f(go);_platform=f(_o);_document=f(po);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=B({type:e,selectors:[["mat-toolbar"]],contentQueries:function(r,n,i){if(r&1&&wo(i,Ci,5),r&2){let s;So(s=Io())&&(n._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,n){r&2&&(Mo(n.color?"mat-"+n.color:""),Eo("mat-toolbar-multiple-rows",n._toolbarRows.length>0)("mat-toolbar-single-row",n._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:xi,decls:2,vars:0,template:function(r,n){r&1&&(yo(Di),At(0),At(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mat-button-text-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mat-button-outlined-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return e})();var Xe=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=$e({type:e});static \u0275inj=Ue({imports:[_t,_t]})}return e})();var Fi=()=>["/dashboard"],_i=()=>["/calendar"],Ri=()=>["/settings"],et=class e{static \u0275fac=function(o){return new(o||e)};static \u0275cmp=B({type:e,selectors:[["app-navbar"]],decls:10,vars:6,consts:[["fxLayoutAlign","space-around center",1,"bottom-nav"],["matIconButton","","routerLinkActive","active",3,"routerLink"]],template:function(o,r){o&1&&(b(0,"mat-toolbar",0)(1,"button",1)(2,"mat-icon"),_(3,"dashboard"),v()(),b(4,"button",1)(5,"mat-icon"),_(6,"calendar_today"),v()(),b(7,"button",1)(8,"mat-icon"),_(9,"settings"),v()()()),o&2&&(F(),Y("routerLink",ge(3,Fi)),F(3),Y("routerLink",ge(4,_i)),F(3),Y("routerLink",ge(5,Ri)))},dependencies:[Xe,Ze,Dr,Ve,Ao,Ye,qe,Ke],styles:[".bottom-nav[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;justify-content:space-around;height:56px;z-index:1000;background-color:var(--primary-color)}.active[_ngcontent-%COMP%]{background-color:var(--secondary-color)}button[_ngcontent-%COMP%]{color:var(--text-primary)}"]})};var Pi=()=>["/settings"],ot=class e{pageTitle="";static \u0275fac=function(o){return new(o||e)};static \u0275cmp=B({type:e,selectors:[["app-header"]],inputs:{pageTitle:"pageTitle"},decls:8,vars:3,consts:[["color","primary","fxLayoutAlign","space-around center",1,"header"],[1,"spacer"],["matIconButton","","routerLinkActive","active",3,"routerLink"]],template:function(o,r){o&1&&(b(0,"mat-toolbar",0)(1,"span")(2,"strong"),_(3),v()(),j(4,"span",1),b(5,"button",2)(6,"mat-icon"),_(7,"settings"),v()()()),o&2&&(F(3),xe(r.pageTitle),F(2),Y("routerLink",ge(2,Pi)))},dependencies:[Xe,Ze,Ye,Ve,Ke],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;padding-left:1.5rem;padding-right:1.5rem;height:56px;z-index:1000;background-color:var(--primary-color);color:var(--text-primary)}button[_ngcontent-%COMP%]{color:var(--text-primary)}"]})};var Rr="@firebase/installations",jt="0.6.18";var Pr=1e4,Nr=`w:${jt}`,Ur="FIS_v2",Ni="https://firebaseinstallations.googleapis.com/v1",Ui=3600*1e3,ji="installations",$i="Installations";var Li={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ie=new Ge(ji,$i,Li);function jr(e){return e instanceof ur&&e.code.includes("request-failed")}function $r({projectId:e}){return`${Ni}/projects/${e}/installations`}function Lr(e){return{token:e.token,requestStatus:2,expiresIn:Bi(e.expiresIn),creationTime:Date.now()}}function Wr(e,t){return u(this,null,function*(){let r=(yield t.json()).error;return ie.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function Br({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Wi(e,{refreshToken:t}){let o=Br(e);return o.append("Authorization",Hi(t)),o}function Hr(e){return u(this,null,function*(){let t=yield e();return t.status>=500&&t.status<600?e():t})}function Bi(e){return Number(e.replace("s","000"))}function Hi(e){return`${Ur} ${e}`}function Vi(r,n){return u(this,arguments,function*({appConfig:e,heartbeatServiceProvider:t},{fid:o}){let i=$r(e),s=Br(e),l=t.getImmediate({optional:!0});if(l){let N=yield l.getHeartbeatsHeader();N&&s.append("x-firebase-client",N)}let M={fid:o,authVersion:Ur,appId:e.appId,sdkVersion:Nr},x={method:"POST",headers:s,body:JSON.stringify(M)},p=yield Hr(()=>fetch(i,x));if(p.ok){let N=yield p.json();return{fid:N.fid||o,registrationStatus:2,refreshToken:N.refreshToken,authToken:Lr(N.authToken)}}else throw yield Wr("Create Installation",p)})}function Vr(e){return new Promise(t=>{setTimeout(t,e)})}function Ki(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}var qi=/^[cdef][\w-]{21}$/,Ut="";function Yi(){try{let e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;let o=Gi(e);return qi.test(o)?o:Ut}catch{return Ut}}function Gi(e){return Ki(e).substr(0,22)}function nt(e){return`${e.appName}!${e.appId}`}var Kr=new Map;function qr(e,t){let o=nt(e);Yr(o,t),zi(o,t)}function Yr(e,t){let o=Kr.get(e);if(o)for(let r of o)r(t)}function zi(e,t){let o=Ji();o&&o.postMessage({key:e,fid:t}),Qi()}var ne=null;function Ji(){return!ne&&"BroadcastChannel"in self&&(ne=new BroadcastChannel("[Firebase] FID Change"),ne.onmessage=e=>{Yr(e.data.key,e.data.fid)}),ne}function Qi(){Kr.size===0&&ne&&(ne.close(),ne=null)}var Zi="firebase-installations-database",Xi=1,se="firebase-installations-store",Pt=null;function $t(){return Pt||(Pt=Ae(Zi,Xi,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(se)}}})),Pt}function rt(e,t){return u(this,null,function*(){let o=nt(e),n=(yield $t()).transaction(se,"readwrite"),i=n.objectStore(se),s=yield i.get(o);return yield i.put(t,o),yield n.done,(!s||s.fid!==t.fid)&&qr(e,t.fid),t})}function Gr(e){return u(this,null,function*(){let t=nt(e),r=(yield $t()).transaction(se,"readwrite");yield r.objectStore(se).delete(t),yield r.done})}function it(e,t){return u(this,null,function*(){let o=nt(e),n=(yield $t()).transaction(se,"readwrite"),i=n.objectStore(se),s=yield i.get(o),l=t(s);return l===void 0?yield i.delete(o):yield i.put(l,o),yield n.done,l&&(!s||s.fid!==l.fid)&&qr(e,l.fid),l})}function Lt(e){return u(this,null,function*(){let t,o=yield it(e.appConfig,r=>{let n=es(r),i=ts(e,n);return t=i.registrationPromise,i.installationEntry});return o.fid===Ut?{installationEntry:yield t}:{installationEntry:o,registrationPromise:t}})}function es(e){let t=e||{fid:Yi(),registrationStatus:0};return zr(t)}function ts(e,t){if(t.registrationStatus===0){if(!navigator.onLine){let n=Promise.reject(ie.create("app-offline"));return{installationEntry:t,registrationPromise:n}}let o={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=os(e,o);return{installationEntry:o,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:rs(e)}:{installationEntry:t}}function os(e,t){return u(this,null,function*(){try{let o=yield Vi(e,t);return rt(e.appConfig,o)}catch(o){throw jr(o)&&o.customData.serverCode===409?yield Gr(e.appConfig):yield rt(e.appConfig,{fid:t.fid,registrationStatus:0}),o}})}function rs(e){return u(this,null,function*(){let t=yield Fr(e.appConfig);for(;t.registrationStatus===1;)yield Vr(100),t=yield Fr(e.appConfig);if(t.registrationStatus===0){let{installationEntry:o,registrationPromise:r}=yield Lt(e);return r||o}return t})}function Fr(e){return it(e,t=>{if(!t)throw ie.create("installation-not-found");return zr(t)})}function zr(e){return ns(e)?{fid:e.fid,registrationStatus:0}:e}function ns(e){return e.registrationStatus===1&&e.registrationTime+Pr<Date.now()}function is(r,n){return u(this,arguments,function*({appConfig:e,heartbeatServiceProvider:t},o){let i=ss(e,o),s=Wi(e,o),l=t.getImmediate({optional:!0});if(l){let N=yield l.getHeartbeatsHeader();N&&s.append("x-firebase-client",N)}let M={installation:{sdkVersion:Nr,appId:e.appId}},x={method:"POST",headers:s,body:JSON.stringify(M)},p=yield Hr(()=>fetch(i,x));if(p.ok){let N=yield p.json();return Lr(N)}else throw yield Wr("Generate Auth Token",p)})}function ss(e,{fid:t}){return`${$r(e)}/${t}/authTokens:generate`}function Wt(e,t=!1){return u(this,null,function*(){let o,r=yield it(e.appConfig,i=>{if(!Jr(i))throw ie.create("not-registered");let s=i.authToken;if(!t&&us(s))return i;if(s.requestStatus===1)return o=as(e,t),i;{if(!navigator.onLine)throw ie.create("app-offline");let l=ls(i);return o=cs(e,l),l}});return o?yield o:r.authToken})}function as(e,t){return u(this,null,function*(){let o=yield _r(e.appConfig);for(;o.authToken.requestStatus===1;)yield Vr(100),o=yield _r(e.appConfig);let r=o.authToken;return r.requestStatus===0?Wt(e,t):r})}function _r(e){return it(e,t=>{if(!Jr(t))throw ie.create("not-registered");let o=t.authToken;return fs(o)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}function cs(e,t){return u(this,null,function*(){try{let o=yield is(e,t),r=Object.assign(Object.assign({},t),{authToken:o});return yield rt(e.appConfig,r),o}catch(o){if(jr(o)&&(o.customData.serverCode===401||o.customData.serverCode===404))yield Gr(e.appConfig);else{let r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield rt(e.appConfig,r)}throw o}})}function Jr(e){return e!==void 0&&e.registrationStatus===2}function us(e){return e.requestStatus===2&&!ds(e)}function ds(e){let t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Ui}function ls(e){let t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function fs(e){return e.requestStatus===1&&e.requestTime+Pr<Date.now()}function ps(e){return u(this,null,function*(){let t=e,{installationEntry:o,registrationPromise:r}=yield Lt(t);return r?r.catch(console.error):Wt(t).catch(console.error),o.fid})}function ms(e,t=!1){return u(this,null,function*(){let o=e;return yield gs(o),(yield Wt(o,t)).token})}function gs(e){return u(this,null,function*(){let{registrationPromise:t}=yield Lt(e);t&&(yield t)})}function hs(e){if(!e||!e.options)throw Nt("App Configuration");if(!e.name)throw Nt("App Name");let t=["projectId","apiKey","appId"];for(let o of t)if(!e.options[o])throw Nt(o);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Nt(e){return ie.create("missing-app-config-values",{valueName:e})}var Qr="installations",bs="installations-internal",vs=e=>{let t=e.getProvider("app").getImmediate(),o=hs(t),r=Fe(t,"heartbeat");return{app:t,appConfig:o,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},ys=e=>{let t=e.getProvider("app").getImmediate(),o=Fe(t,Qr).getImmediate();return{getId:()=>ps(o),getToken:n=>ms(o,n)}};function ws(){ve(new be(Qr,vs,"PUBLIC")),ve(new be(bs,ys,"PRIVATE"))}ws();Z(Rr,jt);Z(Rr,jt,"esm2017");var Ss="/firebase-messaging-sw.js",Is="/firebase-cloud-messaging-push-scope",nn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Es="https://fcmregistrations.googleapis.com/v1",sn="google.c.a.c_id",Ms="google.c.a.c_l",Ts="google.c.a.ts",ks="google.c.a.e",Zr=1e4;var st=(function(e){return e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked",e})(st||{});function G(e){let t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ds(e){let t="=".repeat((4-e.length%4)%4),o=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(o),n=new Uint8Array(r.length);for(let i=0;i<r.length;++i)n[i]=r.charCodeAt(i);return n}var Bt="fcm_token_details_db",xs=5,Xr="fcm_token_object_Store";function Cs(e){return u(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(i=>i.name).includes(Bt))return null;let t=null;return(yield Ae(Bt,xs,{upgrade:(r,n,i,s)=>u(null,null,function*(){var l;if(n<2||!r.objectStoreNames.contains(Xr))return;let M=s.objectStore(Xr),x=yield M.index("fcmSenderId").get(e);if(yield M.clear(),!!x){if(n===2){let p=x;if(!p.auth||!p.p256dh||!p.endpoint)return;t={token:p.fcmToken,createTime:(l=p.createTime)!==null&&l!==void 0?l:Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:G(p.vapidKey)}}}else if(n===3){let p=x;t={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:G(p.auth),p256dh:G(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:G(p.vapidKey)}}}else if(n===4){let p=x;t={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:G(p.auth),p256dh:G(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:G(p.vapidKey)}}}}})})).close(),yield ze(Bt),yield ze("fcm_vapid_details_db"),yield ze("undefined"),Os(t)?t:null})}function Os(e){if(!e||!e.subscriptionOptions)return!1;let{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}var As="firebase-messaging-database",Fs=1,ae="firebase-messaging-store",Ht=null;function qt(){return Ht||(Ht=Ae(As,Fs,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ae)}}})),Ht}function an(e){return u(this,null,function*(){let t=Gt(e),r=yield(yield qt()).transaction(ae).objectStore(ae).get(t);if(r)return r;{let n=yield Cs(e.appConfig.senderId);if(n)return yield Yt(e,n),n}})}function Yt(e,t){return u(this,null,function*(){let o=Gt(e),n=(yield qt()).transaction(ae,"readwrite");return yield n.objectStore(ae).put(t,o),yield n.done,t})}function _s(e){return u(this,null,function*(){let t=Gt(e),r=(yield qt()).transaction(ae,"readwrite");yield r.objectStore(ae).delete(t),yield r.done})}function Gt({appConfig:e}){return e.appId}var Rs={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},P=new Ge("messaging","Messaging",Rs);function Ps(e,t){return u(this,null,function*(){let o=yield Jt(e),r=un(t),n={method:"POST",headers:o,body:JSON.stringify(r)},i;try{i=yield(yield fetch(zt(e.appConfig),n)).json()}catch(s){throw P.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(i.error){let s=i.error.message;throw P.create("token-subscribe-failed",{errorInfo:s})}if(!i.token)throw P.create("token-subscribe-no-token");return i.token})}function Ns(e,t){return u(this,null,function*(){let o=yield Jt(e),r=un(t.subscriptionOptions),n={method:"PATCH",headers:o,body:JSON.stringify(r)},i;try{i=yield(yield fetch(`${zt(e.appConfig)}/${t.token}`,n)).json()}catch(s){throw P.create("token-update-failed",{errorInfo:s?.toString()})}if(i.error){let s=i.error.message;throw P.create("token-update-failed",{errorInfo:s})}if(!i.token)throw P.create("token-update-no-token");return i.token})}function cn(e,t){return u(this,null,function*(){let r={method:"DELETE",headers:yield Jt(e)};try{let i=yield(yield fetch(`${zt(e.appConfig)}/${t}`,r)).json();if(i.error){let s=i.error.message;throw P.create("token-unsubscribe-failed",{errorInfo:s})}}catch(n){throw P.create("token-unsubscribe-failed",{errorInfo:n?.toString()})}})}function zt({projectId:e}){return`${Es}/projects/${e}/registrations`}function Jt(o){return u(this,arguments,function*({appConfig:e,installations:t}){let r=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})}function un({p256dh:e,auth:t,endpoint:o,vapidKey:r}){let n={web:{endpoint:o,auth:t,p256dh:e}};return r!==nn&&(n.web.applicationPubKey=r),n}var Us=10080*60*1e3;function js(e){return u(this,null,function*(){let t=yield Ws(e.swRegistration,e.vapidKey),o={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:G(t.getKey("auth")),p256dh:G(t.getKey("p256dh"))},r=yield an(e.firebaseDependencies);if(r){if(Bs(r.subscriptionOptions,o))return Date.now()>=r.createTime+Us?Ls(e,{token:r.token,createTime:Date.now(),subscriptionOptions:o}):r.token;try{yield cn(e.firebaseDependencies,r.token)}catch(n){console.warn(n)}return en(e.firebaseDependencies,o)}else return en(e.firebaseDependencies,o)})}function $s(e){return u(this,null,function*(){let t=yield an(e.firebaseDependencies);t&&(yield cn(e.firebaseDependencies,t.token),yield _s(e.firebaseDependencies));let o=yield e.swRegistration.pushManager.getSubscription();return o?o.unsubscribe():!0})}function Ls(e,t){return u(this,null,function*(){try{let o=yield Ns(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:o,createTime:Date.now()});return yield Yt(e.firebaseDependencies,r),o}catch(o){throw o}})}function en(e,t){return u(this,null,function*(){let r={token:yield Ps(e,t),createTime:Date.now(),subscriptionOptions:t};return yield Yt(e,r),r.token})}function Ws(e,t){return u(this,null,function*(){let o=yield e.pushManager.getSubscription();return o||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ds(t)})})}function Bs(e,t){let o=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,n=t.auth===e.auth,i=t.p256dh===e.p256dh;return o&&r&&n&&i}function tn(e){let t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return Hs(t,e),Vs(t,e),Ks(t,e),t}function Hs(e,t){if(!t.notification)return;e.notification={};let o=t.notification.title;o&&(e.notification.title=o);let r=t.notification.body;r&&(e.notification.body=r);let n=t.notification.image;n&&(e.notification.image=n);let i=t.notification.icon;i&&(e.notification.icon=i)}function Vs(e,t){t.data&&(e.data=t.data)}function Ks(e,t){var o,r,n,i,s;if(!t.fcmOptions&&!(!((o=t.notification)===null||o===void 0)&&o.click_action))return;e.fcmOptions={};let l=(n=(r=t.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&n!==void 0?n:(i=t.notification)===null||i===void 0?void 0:i.click_action;l&&(e.fcmOptions.link=l);let M=(s=t.fcmOptions)===null||s===void 0?void 0:s.analytics_label;M&&(e.fcmOptions.analyticsLabel=M)}function qs(e){return typeof e=="object"&&!!e&&sn in e}Ys("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function Ys(e,t){let o=[];for(let r=0;r<e.length;r++)o.push(e.charAt(r)),r<t.length&&o.push(t.charAt(r));return o.join("")}function Gs(e){if(!e||!e.options)throw Vt("App Configuration Object");if(!e.name)throw Vt("App Name");let t=["projectId","apiKey","appId","messagingSenderId"],{options:o}=e;for(let r of t)if(!o[r])throw Vt(r);return{appName:e.name,projectId:o.projectId,apiKey:o.apiKey,appId:o.appId,senderId:o.messagingSenderId}}function Vt(e){return P.create("missing-app-config-values",{valueName:e})}var Kt=class{constructor(t,o,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let n=Gs(t);this.firebaseDependencies={app:t,appConfig:n,installations:o,analyticsProvider:r}}_delete(){return Promise.resolve()}};function dn(e){return u(this,null,function*(){try{e.swRegistration=yield navigator.serviceWorker.register(Ss,{scope:Is}),e.swRegistration.update().catch(()=>{}),yield zs(e.swRegistration)}catch(t){throw P.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}})}function zs(e){return u(this,null,function*(){return new Promise((t,o)=>{let r=setTimeout(()=>o(new Error(`Service worker not registered after ${Zr} ms`)),Zr),n=e.installing||e.waiting;e.active?(clearTimeout(r),t()):n?n.onstatechange=i=>{var s;((s=i.target)===null||s===void 0?void 0:s.state)==="activated"&&(n.onstatechange=null,clearTimeout(r),t())}:(clearTimeout(r),o(new Error("No incoming service worker found.")))})})}function Js(e,t){return u(this,null,function*(){if(!t&&!e.swRegistration&&(yield dn(e)),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw P.create("invalid-sw-registration");e.swRegistration=t}})}function Qs(e,t){return u(this,null,function*(){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=nn)})}function ln(e,t){return u(this,null,function*(){if(!navigator)throw P.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw P.create("permission-blocked");return yield Qs(e,t?.vapidKey),yield Js(e,t?.serviceWorkerRegistration),js(e)})}function Zs(e,t,o){return u(this,null,function*(){let r=Xs(t);(yield e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:o[sn],message_name:o[Ms],message_time:o[Ts],message_device_time:Math.floor(Date.now()/1e3)})})}function Xs(e){switch(e){case st.NOTIFICATION_CLICKED:return"notification_open";case st.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ea(e,t){return u(this,null,function*(){let o=t.data;if(!o.isFirebaseMessaging)return;e.onMessageHandler&&o.messageType===st.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(tn(o)):e.onMessageHandler.next(tn(o)));let r=o.data;qs(r)&&r[ks]==="1"&&(yield Zs(e,o.messageType,r))})}var on="@firebase/messaging",rn="0.12.22";var ta=e=>{let t=new Kt(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",o=>ea(t,o)),t},oa=e=>{let t=e.getProvider("messaging").getImmediate();return{getToken:r=>ln(t,r)}};function ra(){ve(new be("messaging",ta,"PUBLIC")),ve(new be("messaging-internal",oa,"PRIVATE")),Z(on,rn),Z(on,rn,"esm2017")}function fn(){return u(this,null,function*(){try{yield ar()}catch{return!1}return typeof window<"u"&&sr()&&cr()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function na(e){return u(this,null,function*(){if(!navigator)throw P.create("only-available-in-window");return e.swRegistration||(yield dn(e)),$s(e)})}function ia(e,t){if(!navigator)throw P.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}function pn(e=Rt()){return fn().then(t=>{if(!t)throw P.create("unsupported-browser")},t=>{throw P.create("indexed-db-unsupported")}),Fe(Oe(e),"messaging").getImmediate()}function mn(e,t){return u(this,null,function*(){return e=Oe(e),ln(e,t)})}function gn(e){return e=Oe(e),na(e)}function hn(e,t){return e=Oe(e),ia(e,t)}ra();var ce=class{constructor(t){return t}},bn="messaging",Qt=class{constructor(){return fr(bn)}};var Zt=new fe("angularfire2.messaging-instances");function sa(e,t,o){if(Ft(o))return null;let r=lr(bn,e,t);return r&&new ce(r)}function aa(e){return(t,o,r)=>{if(Ft(r))return null;let n=t.runOutsideAngular(()=>e(o));return new ce(n)}}var ca={provide:Qt,deps:[[new Dt,Zt]]},ua={provide:ce,useFactory:sa,deps:[[new Dt,Zt],mr,xt]};function vn(e,...t){return Z("angularfire",dr.full,"fcm"),pe([ua,ca,{provide:Zt,useFactory:aa(e),multi:!0,deps:[Le,je,xt,pr,gr,...t]}])}var yn=_e(gn,!0,2),wn=_e(pn,!0),Sn=_e(mn,!0);var In=_e(hn,!1);var Ee=class e{messaging=f(ce);firestore=f($);auth=f(X);vapidKey="BPZ5Uf3I_ZNqJ6YvXNiBvju9rXJUTn5MFkDLwQCF0cPG2uJ6ZusWmV6tae0A8U8jRjpnmIJQevCsh7Ui6CQYe8Q";onMessageUnsub;registerPushToken(){return u(this,null,function*(){let t=this.auth.currentUser;if(!t)return null;if((yield Notification.requestPermission())!=="granted")throw new Error("Permission not granted for Notification");try{let r=yield navigator.serviceWorker.ready;if(!r)return null;console.log(r);let n=yield Sn(this.messaging,{vapidKey:this.vapidKey,serviceWorkerRegistration:r});if(console.log("token: ",n),!n)throw new Error("No registration token received");return yield Se(R(this.firestore,`users/${t.uid}`),{pushToken:n},{merge:!0}),console.log("Push token saved to user: ",n),n}catch(r){throw console.error("Error while token generation: ",r),r}})}removeTokenForCurrentUser(){return u(this,null,function*(){try{yield yn(this.messaging).catch(()=>{});let t=this.auth.currentUser;if(!t)return;yield Se(R(this.firestore,`users/${t.uid}`),{pushToken:null},{merge:!0})}catch(t){console.error("Error deleting token: ",t)}})}listenForMessages(){this.onMessageUnsub||(this.onMessageUnsub=In(this.messaging,t=>{if(Notification.permission==="granted")try{new Notification(t.notification?.title??"Erinnerung",{body:t.notification?.body})}catch(o){console.error("Error displaying notification: ",o)}}))}stopListening(){this.onMessageUnsub?.(),this.onMessageUnsub=void 0}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})};var at=class e{constructor(t){this.pushService=t}ngOnInit(){this.pushService.listenForMessages()}static \u0275fac=function(o){return new(o||e)(me(Ee))};static \u0275cmp=B({type:e,selectors:[["app-main-layout"]],decls:6,vars:0,consts:[["pageTitle","PetCheck"]],template:function(o,r){o&1&&(b(0,"header"),j(1,"app-header",0),v(),b(2,"main"),j(3,"router-outlet"),v(),b(4,"footer"),j(5,"app-navbar"),v())},dependencies:[et,ot,He],styles:["main[_ngcontent-%COMP%]{padding-top:70px;padding-left:1.5rem;padding-right:1.5rem}"]})};function fa(e,t){e&1&&(b(0,"p"),_(1," Du bist offline \u2013 Login nicht m\xF6glich. "),v())}function pa(e,t){e&1&&(b(0,"mat-form-field",3)(1,"mat-label"),_(2,"Name"),v(),j(3,"input",9),v())}function ma(e,t){if(e&1&&(b(0,"span"),_(1),v()),e&2){let o=vo();F(),xe(o.registrate?"Registrieren":"Anmelden")}}function ga(e,t){e&1&&(b(0,"span",7),fo(),b(1,"svg",10),j(2,"circle",11)(3,"path",12),v(),_(4," L\xE4dt... "),v())}var ct=class e{constructor(t,o,r){this.fb=t;this.store=o;this.router=r}loginForm;loading$;user$;error$;isOnline=navigator.onLine;registrate=!1;ngOnInit(){this.loginForm=this.fb.group({name:[""],email:["",[Ce.required,Ce.email]],password:["",[Ce.required,Ce.minLength(6)]]}),this.loading$=this.store.select(Cr),this.user$=this.store.select(xr),this.error$=this.store.select(Or),this.store.select(Qe).pipe(K(t=>t===!0),U(1)).subscribe(()=>{this.router.navigate(["/dashboard"])}),window.addEventListener("online",()=>this.isOnline=!0),window.addEventListener("offline",()=>this.isOnline=!1)}onSubmit(){if(!(this.loginForm.invalid||!this.isOnline))if(this.registrate){let{name:t,email:o,password:r}=this.loginForm.value;this.store.dispatch(m.register({name:t,email:o,password:r}))}else{let{email:t,password:o}=this.loginForm.value;this.store.dispatch(m.login({email:t,password:o}))}}static \u0275fac=function(o){return new(o||e)(me(Xo),me(J),me(he))};static \u0275cmp=B({type:e,selectors:[["app-login-layout"]],decls:29,vars:14,consts:[[1,"login-page"],[1,"login-card"],["novalidate","",1,"login-form",3,"ngSubmit","formGroup"],["appearance","outline"],["matInput","","formControlName","email"],["matInput","","formControlName","password"],["matButton","","type","submit",1,"w-full","bg-blue-600","hover:bg-blue-700","disabled:bg-gray-400","text-white","font-semibold","py-2","rounded-lg","transition",3,"disabled"],[1,"flex","items-center","justify-center"],["matButton","",3,"click"],["matInput","","formControlName","name"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","mr-2","h-4","w-4","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8v8z",1,"opacity-75"]],template:function(o,r){o&1&&(b(0,"div")(1,"div",0)(2,"mat-card",1)(3,"mat-card-title"),_(4," Willkommen zur\xFCck\u{1F44B} "),v(),b(5,"mat-card-content"),ke(6,fa,2,0,"p"),b(7,"form",2),Ot("ngSubmit",function(){return r.onSubmit()}),ke(8,pa,4,0,"mat-form-field",3),b(9,"mat-form-field",3)(10,"mat-label"),_(11,"E-Mail"),v(),j(12,"input",4),v(),b(13,"mat-form-field",3)(14,"mat-label"),_(15,"Passwort"),v(),j(16,"input",5),v(),j(17,"br"),b(18,"button",6),We(19,"async"),ke(20,ma,2,1,"span"),We(21,"async"),ke(22,ga,5,0,"span",7),We(23,"async"),v()(),b(24,"div")(25,"p"),_(26),b(27,"button",8),Ot("click",function(){return r.registrate=!r.registrate}),_(28),v()()()()()()()),o&2&&(F(6),De(r.isOnline?-1:6),F(),Y("formGroup",r.loginForm),F(),De(r.registrate?8:-1),F(10),Y("disabled",r.loginForm.invalid||Be(19,8,r.loading$)||!r.isOnline),F(2),De(Be(21,10,r.loading$)?-1:20),F(2),De(Be(23,12,r.loading$)?22:-1),F(4),To(" ",r.registrate?"Sie haben bereits ein Konto?":"Noch kein Konto?"," "),F(2),xe(r.registrate?"Anmelden":"Registrieren"))},dependencies:[er,Jo,Yo,Go,zo,Qo,Zo,qo,Ho,Ko,Vo,rr,or,tr,ir,nr,qe,Ro,Co],styles:[".login-page[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh}.login-card[_ngcontent-%COMP%]{margin:2rem auto;padding:1rem}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}mat-card-content[_ngcontent-%COMP%]{padding-top:2rem}"]})};var En=()=>{let e=f(J),t=f(he);return e.select(Qe).pipe(U(1),Ne(o=>{o||t.navigate(["/login"])}))};var Mn=[{path:"login",component:ct},{path:"",component:at,canActivate:[En],children:[{path:"dashboard",loadChildren:()=>import("./chunk-IIY5A7E3.js").then(e=>e.DashboardModule)},{path:"calendar",loadChildren:()=>import("./chunk-2GY5EQAC.js").then(e=>e.CalendarModule)},{path:"settings",loadChildren:()=>import("./chunk-IUAO776Q.js").then(e=>e.SettingsModule)},{path:"",redirectTo:"dashboard",pathMatch:"full"}]}];var Xt="Service workers are disabled or not supported by this browser",Me=class{serviceWorker;worker;registration;events;constructor(t,o){if(this.serviceWorker=t,!t)this.worker=this.events=this.registration=new de(r=>r.error(new re(5601,!1)));else{let r=null,n=new le;this.worker=new de(x=>(r!==null&&x.next(r),n.subscribe(p=>x.next(p))));let i=()=>{let{controller:x}=t;x!==null&&(r=x,n.next(r))};t.addEventListener("controllerchange",i),i(),this.registration=this.worker.pipe(H(()=>t.getRegistration().then(x=>{if(!x)throw new re(5601,!1);return x})));let s=new le;this.events=s.asObservable();let l=x=>{let{data:p}=x;p?.type&&s.next(p)};t.addEventListener("message",l),o?.get(Ct,null,{optional:!0})?.onDestroy(()=>{t.removeEventListener("controllerchange",i),t.removeEventListener("message",l)})}}postMessage(t,o){return new Promise(r=>{this.worker.pipe(U(1)).subscribe(n=>{n.postMessage(a({action:t},o)),r()})})}postMessageWithOperation(t,o,r){let n=this.waitForOperationCompleted(r),i=this.postMessage(t,o);return Promise.all([i,n]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(t){let o;return typeof t=="string"?o=r=>r.type===t:o=r=>t.includes(r.type),this.events.pipe(K(o))}nextEventOfType(t){return this.eventsOfType(t).pipe(U(1))}waitForOperationCompleted(t){return new Promise((o,r)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(K(n=>n.nonce===t),U(1),h(n=>{if(n.result!==void 0)return n.result;throw new Error(n.error)})).subscribe({next:o,error:r})})}get isEnabled(){return!!this.serviceWorker}},ha=(()=>{class e{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new le;constructor(o){if(this.sw=o,!o.isEnabled){this.messages=z,this.notificationClicks=z,this.notificationCloses=z,this.pushSubscriptionChanges=z,this.subscription=z;return}this.messages=this.sw.eventsOfType("PUSH").pipe(h(n=>n.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(h(n=>n.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(h(n=>n.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(h(n=>n.data)),this.pushManager=this.sw.registration.pipe(h(n=>n.pushManager));let r=this.pushManager.pipe(H(n=>n.getSubscription()));this.subscription=new de(n=>{let i=r.subscribe(n),s=this.subscriptionChanges.subscribe(n);return()=>{i.unsubscribe(),s.unsubscribe()}})}requestSubscription(o){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Xt));let r={userVisibleOnly:!0},n=this.decodeBase64(o.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(n.length));for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return r.applicationServerKey=i,new Promise((s,l)=>{this.pushManager.pipe(H(M=>M.subscribe(r)),U(1)).subscribe({next:M=>{this.subscriptionChanges.next(M),s(M)},error:l})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Xt));let o=r=>{if(r===null)throw new re(5602,!1);return r.unsubscribe().then(n=>{if(!n)throw new re(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((r,n)=>{this.subscription.pipe(U(1),H(o)).subscribe({next:r,error:n})})}decodeBase64(o){return atob(o)}static \u0275fac=function(r){return new(r||e)(q(Me))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),ba=(()=>{class e{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(o){if(this.sw=o,!o.isEnabled){this.versionUpdates=z,this.unrecoverable=z;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED","VERSION_FAILED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Xt));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let o=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:o},o).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new re(5601,!1));let o=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:o},o)}static \u0275fac=function(r){return new(r||e)(q(Me))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})();var kn=new fe("");function va(){let e=f(Pe);if(!("serviceWorker"in navigator&&e.enabled!==!1))return;let t=f(kn),o=f(Le),r=f(Ct);o.runOutsideAngular(()=>{let n=navigator.serviceWorker,i=()=>n.controller?.postMessage({action:"INITIALIZE"});n.addEventListener("controllerchange",i),r.onDestroy(()=>{n.removeEventListener("controllerchange",i)})}),o.runOutsideAngular(()=>{let n,{registrationStrategy:i}=e;if(typeof i=="function")n=new Promise(s=>i().subscribe(()=>s()));else{let[s,...l]=(i||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":n=Promise.resolve();break;case"registerWithDelay":n=Tn(+l[0]||0);break;case"registerWhenStable":n=Promise.race([r.whenStable(),Tn(+l[0])]);break;default:throw new re(5600,!1)}}n.then(()=>{r.destroyed||navigator.serviceWorker.register(t,{scope:e.scope,updateViaCache:e.updateViaCache,type:e.type}).catch(s=>console.error(uo(5604,!1)))})})}function Tn(e){return new Promise(t=>setTimeout(t,e))}function ya(e,t){return new Me(e.enabled!==!1?navigator.serviceWorker:void 0,t)}var Pe=class{enabled;updateViaCache;type;scope;registrationStrategy};function Dn(e,t={}){return pe([ha,ba,{provide:kn,useValue:e},{provide:Pe,useValue:t},{provide:Me,useFactory:ya,deps:[Pe,je]},bo(va)])}var wa={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},ut="__@ngrx/effects_create__";function E(e,t={}){let o=t.functional?e:e(),r=a(a({},wa),t);return Object.defineProperty(o,ut,{value:r}),o}function Sa(e){return Object.getOwnPropertyNames(e).filter(r=>e[r]&&e[r].hasOwnProperty(ut)?e[r][ut].hasOwnProperty("dispatch"):!1).map(r=>{let n=e[r][ut];return a({propertyName:r},n)})}function Ia(e){return Sa(e)}function xn(e){return Object.getPrototypeOf(e)}function Ea(e){return!!e.constructor&&e.constructor.name!=="Object"&&e.constructor.name!=="Function"}function Cn(e){return typeof e=="function"}function Ma(e){return e.filter(Cn)}function Ta(e,t,o){let r=xn(e),i=!!r&&r.constructor.name!=="Object"?r.constructor.name:null,s=Ia(e).map(({propertyName:l,dispatch:M,useEffectsErrorHandler:x})=>{let p=typeof e[l]=="function"?e[l]():e[l],N=x?o(p,t):p;return M===!1?N.pipe(io()):N.pipe(co()).pipe(h(ki=>({effect:e[l],notification:ki,propertyName:l,sourceName:i,sourceInstance:e})))});return Tt(...s)}var ka=10;function On(e,t,o=ka){return e.pipe(y(r=>(t&&t.handleError(r),o<=1?e:On(e,t,o-1))))}var ee=(()=>{let t=class t extends de{constructor(r){super(),r&&(this.source=r)}lift(r){let n=new t;return n.source=this,n.operator=r,n}};t.\u0275fac=function(n){return new(n||t)(q(Wo))},t.\u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function D(...e){return K(t=>e.some(o=>typeof o=="string"?o===t.type:o.type===t.type))}var Da=new fe("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>On}),xa="@ngrx/effects/init",Ca=Uo(xa);function Oa(e,t){if(e.notification.kind==="N"){let o=e.notification.value;!Aa(o)&&t.handleError(new Error(`Effect ${Fa(e)} dispatched an invalid action: ${_a(o)}`))}}function Aa(e){return typeof e!="function"&&e&&e.type&&typeof e.type=="string"}function Fa({propertyName:e,sourceInstance:t,sourceName:o}){let r=typeof t[e]=="function";return!!o?`"${o}.${String(e)}${r?"()":""}"`:`"${String(e)}()"`}function _a(e){try{return JSON.stringify(e)}catch{return e}}var Ra="ngrxOnIdentifyEffects";function Pa(e){return eo(e,Ra)}var Na="ngrxOnRunEffects";function Ua(e){return eo(e,Na)}var ja="ngrxOnInitEffects";function $a(e){return eo(e,ja)}function eo(e,t){return e&&t in e&&typeof e[t]=="function"}var An=(()=>{let t=class t extends le{constructor(r,n){super(),this.errorHandler=r,this.effectsErrorHandler=n}addEffects(r){this.next(r)}toActions(){return this.pipe(kt(r=>Ea(r)?xn(r):r),T(r=>r.pipe(kt(La))),T(r=>{let n=r.pipe(ao(s=>Wa(this.errorHandler,this.effectsErrorHandler)(s)),h(s=>(Oa(s,this.errorHandler),s.notification)),K(s=>s.kind==="N"&&s.value!=null),so()),i=r.pipe(U(1),K($a),h(s=>s.ngrxOnInitEffects()));return Tt(n,i)}))}};t.\u0275fac=function(n){return new(n||t)(q(mo),q(Da))},t.\u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function La(e){return Pa(e)?e.ngrxOnIdentifyEffects():""}function Wa(e,t){return o=>{let r=Ta(o,e,t);return Ua(o)?o.ngrxOnRunEffects(r):r}}var Ba=(()=>{let t=class t{get isStarted(){return!!this.effectsSubscription}constructor(r,n){this.effectSources=r,this.store=n,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};t.\u0275fac=function(n){return new(n||t)(q(An),q(J))},t.\u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Fn(...e){let t=e.flat(),o=Ma(t);return pe([o,lo(()=>{f($o),f(Lo,{optional:!0});let r=f(Ba),n=f(An),i=!r.isStarted;i&&r.start();for(let s of t){let l=Cn(s)?f(s):s;n.addEffects(l)}i&&f(J).dispatch(Ca())})])}var _n={user:null,loading:!1,isAuthenticated:!1},Rn=Q(_n,g(m.login,m.register,e=>(console.log("loggin in ... :",e),d(a({},e),{loading:!0}))),g(m.loginSucess,m.registerSucess,(e,{user:t})=>d(a({},e),{user:t,loading:!1,isAuthenticated:!0})),g(m.loginFailure,m.registerFailure,(e,{error:t})=>d(a({},e),{loading:!1,error:t})),g(m.logoutSucess,()=>a({},_n)),g(m.generatePushToken,e=>d(a({},e),{loading:!0})),g(m.generatePushTokenSuccess,(e,{token:t})=>d(a({},e),{loading:!1,user:e.user?d(a({},e.user),{pushToken:t}):null})),g(m.generatePushTokenFailure,(e,{error:t})=>d(a({},e),{loading:!1,error:t})),g(m.deletePushToken,e=>d(a({},e),{loading:!0})),g(m.deletePushTokenSuccess,e=>d(a({},e),{loading:!1,user:e.user?d(a({},e.user),{pushToken:null}):null})),g(m.deletePushTokenFailure,e=>d(a({},e),{loading:!1})),g(m.authStateChanged,(e,{user:t})=>d(a({},e),{user:t,isAuthenticated:!!t})));var Ha={pets:[],loading:!1,error:null,offlineQueue:[]},Pn=Q(Ha,g(k.loadPets,e=>d(a({},e),{loading:!0})),g(k.loadPetsSuccess,(e,{pets:t})=>d(a({},e),{loading:!1,pets:t})),g(k.loadPetsFailure,(e,{error:t})=>d(a({},e),{loading:!1,error:t})),g(k.addPetSucess,(e,{pet:t})=>d(a({},e),{pets:[...e.pets,t]})),g(k.updatePetSucess,(e,{pet:t})=>d(a({},e),{pets:e.pets.map(o=>o.id===t.id?t:o)})),g(k.deletePetSucess,(e,{petId:t})=>d(a({},e),{pets:e.pets.filter(o=>o.id!==t)})),g(k.queueOfflineAction,(e,{action:t})=>d(a({},e),{offlineQueue:[...e.offlineQueue,t]})),g(k.syncOfflineActions,e=>d(a({},e),{offlineQueue:[]})));var O=jo({source:"User",events:{"Load User":W(),"Load User Sucess":W(),"Load User Failure":W(),"Add User":W(),"Add User Sucess":W(),"Add User Failure":W(),"Update User":W(),"Update User Sucess":W(),"Update User Failure":W(),"Delete User":W(),"Delete User Sucess":W(),"Delete User Failure":W()}});var Va={users:[],loading:!1,loggedIn:!1,error:null},Nn=Q(Va,g(O.loadUser,e=>d(a({},e),{loading:!0})),g(O.loadUserSucess,(e,{user:t})=>d(a({},e),{selectedUser:t,loading:!1,loggedIn:!0})),g(O.loadUserFailure,(e,{error:t})=>d(a({},e),{loading:!1,loggedIn:!1,error:t})),g(O.addUserSucess,(e,{user:t})=>d(a({},e),{users:[...e.users,t]})),g(O.updateUserSucess,(e,{user:t})=>d(a({},e),{users:e.users.map(o=>o.id===t.id?t:o),selectedUser:e.selectedUser?.id===t.id?t:e.selectedUser})),g(O.deleteUserSucess,(e,{userId:t})=>d(a({},e),{users:e.users.filter(o=>o.id!==t),selectedUser:e.selectedUser?.id===t?void 0:e.selectedUser})));var dt=class e{actions$=f(ee);auth=f(X);firestore=f($);pushService=f(Ee);router=f(he);login$=E(()=>this.actions$.pipe(D(m.login),T(({email:t,password:o})=>A(Ir(this.auth,t,o)).pipe(H(({user:r})=>{let n=R(this.firestore,`users/${r.uid}`);return Re(n,{idField:"id"}).pipe(U(1),h(i=>{if(i)return m.loginSucess({user:i});{let s={id:r.uid,name:r.displayName??"",email:r.email??""};return Se(n,s),m.loginSucess({user:s})}}))}),y(r=>(console.error("[AuthEffect] Login Error:",r),S(m.loginFailure({error:r}))))))));register$=E(()=>this.actions$.pipe(D(m.register),T(({email:t,password:o,name:r})=>A(wr(this.auth,t,o)).pipe(H(({user:n})=>{let i={id:n.uid,name:r,email:t},s=R(this.firestore,`users/${n.uid}`);return A(Se(s,i)).pipe(h(()=>m.registerSucess({user:i})),y(l=>S(m.registerFailure({error:l}))))}),y(n=>S(m.registerFailure({error:n})))))));generateToken$=E(()=>this.actions$.pipe(D(m.generatePushToken),H(()=>A(this.pushService.registerPushToken()).pipe(h(t=>{if(t==null)throw new Error("No token generated");return m.generatePushTokenSuccess({token:t})}),y(t=>S(m.generatePushTokenFailure({error:t})))))));deleteToken$=E(()=>this.actions$.pipe(D(m.deletePushToken),H(()=>A(this.pushService.removeTokenForCurrentUser()).pipe(h(()=>m.deletePushTokenSuccess()),y(t=>S(m.deletePushTokenFailure({error:t})))))));logout$=E(()=>this.actions$.pipe(D(m.logout),T(()=>A(Er(this.auth)).pipe(h(()=>m.logoutSucess()),y(t=>S(m.logoutFailure({error:t})))))));logoutSuccess$=E(()=>this.actions$.pipe(D(m.logoutSucess),Ne(()=>{this.router.navigate(["/login"])})),{dispatch:!1});authState$=E(()=>yr(this.auth).pipe(H(t=>{if(!t)return S(m.authStateChanged({user:null}));let o=R(this.firestore,`users/${t.uid}`);return Re(o,{idField:"id"}).pipe(h(r=>m.authStateChanged({user:r})),y(r=>(console.error("[AuthEffect] Error loading userDoc: ",r),S(m.authStateChanged({user:null})))))})));static \u0275fac=function(o){return new(o||e)};static \u0275prov=C({token:e,factory:e.\u0275fac})};var lt=class e{firestore=f($);auth=f(X);addPet(t){return u(this,null,function*(){let o=this.auth.currentUser;if(!o)throw new Error("Currently not logged in");let r=V(this.firestore,`users/${o.uid}/pets`);yield ye(r,d(a({},t),{ownerId:o.uid}))})}updatePet(t){return u(this,null,function*(){let o=this.auth.currentUser;if(!o)throw new Error("Currently not logged in");let r=R(this.firestore,`users/${o.uid}/pets/${t.id}`);yield Ie(r,a({},t))})}deletePet(t){return u(this,null,function*(){let o=this.auth.currentUser;if(!o)throw new Error("Currently not logged in");let r=R(this.firestore,`users/${o.uid}/pets/${t}`);yield we(r)})}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})};var ft=class e{actions$=f(ee);firestore=f($);petService=f(lt);loadPets$=E(()=>this.actions$.pipe(D(k.loadPets),T(({userId:t})=>{let o=V(this.firestore,`users/${t}/pets`);return Je(o,{idField:"id"}).pipe(h(r=>k.loadPetsSuccess({pets:r})),y(r=>S(k.loadPetsFailure({error:r}))))})));addPet$=E(()=>this.actions$.pipe(D(k.addPet),T(t=>A(this.petService.addPet(t.pet)).pipe(h(()=>k.addPetSucess({pet:t.pet})),y(o=>S(k.addPetFailure({error:o})))))));updatePet$=E(()=>this.actions$.pipe(D(k.updatePet),T(t=>A(this.petService.updatePet(t.pet)).pipe(h(()=>k.updatePetSucess({pet:t.pet})),y(o=>S(k.updatePetFailure({error:o})))))));deletePet$=E(()=>this.actions$.pipe(D(k.deletePet),T(t=>A(this.petService.deletePet(t.petId)).pipe(h(()=>k.deletePetSucess({petId:t.petId})),y(o=>S(k.deletePetFailure({error:o})))))));static \u0275fac=function(o){return new(o||e)};static \u0275prov=C({token:e,factory:e.\u0275fac})};var pt=class e{actions$=f(ee);firestore=f($);loadUser$=E(()=>this.actions$.pipe(D(O.loadUser),T(({userId:t})=>{let o=R(this.firestore,`users/${t}`);return Re(o,{idField:"id"}).pipe(h(r=>O.loadUserSucess({user:r})),y(r=>S(O.loadUserFailure({error:r}))))})));AddUser$=E(()=>this.actions$.pipe(D(O.addUser),T(({user:t})=>{let o=V(this.firestore,"users");return A(ye(o,t)).pipe(h(r=>O.addUserSucess({user:d(a({},t),{id:r.id})})),y(r=>S(O.addUserFailure({error:r}))))})));updateUser$=E(()=>this.actions$.pipe(D(O.updateUser),T(({user:t})=>{let o=R(this.firestore,`users/${t.id}`);return A(Ie(o,a({},t))).pipe(h(()=>O.updateUserSucess({user:t})),y(r=>S(O.updateUserFailure({error:r}))))})));deleteUser$=E(()=>this.actions$.pipe(D(O.deleteUser),T(({userId:t})=>{let o=R(this.firestore,`users/${t}`);return A(we(o)).pipe(h(()=>O.deleteUserSucess({userId:t})),y(r=>S(O.deleteUserFailure({error:r}))))})));static \u0275fac=function(o){return new(o||e)};static \u0275prov=C({token:e,factory:e.\u0275fac})};var Ka={reminders:[],loading:!1},Un=Q(Ka,g(I.addSuccess,(e,{appointment:t})=>{let o=e.reminders??[];return o.some(n=>n.id===t.id)?d(a({},e),{loading:!1}):d(a({},e),{loading:!1,reminders:[...o,t]})}),g(I.addFailure,(e,{error:t})=>d(a({},e),{loading:!1,error:t})),g(I.updateSuccess,(e,{appointment:t})=>d(a({},e),{reminders:e.reminders.map(o=>o.id===t.id?t:o)})),g(I.delete,e=>d(a({},e),{loading:!0})),g(I.deleteFailure,(e,{error:t})=>d(a({},e),{loading:!1,error:t})),g(I.deleteSuccess,(e,{appointmentId:t})=>d(a({},e),{loading:!1,reminders:e.reminders.filter(o=>o.id!==t)})),g(I.load,e=>d(a({},e),{loading:!0})),g(I.loadSuccess,(e,{appointments:t})=>d(a({},e),{loading:!1,reminders:[...e.reminders,...t]})),g(I.loadFailure,(e,{error:t})=>d(a({},e),{loading:!1,error:t})));var mt=class e{firestore=f($);auth=f(X);addAppointment(t){return u(this,null,function*(){let o=this.auth.currentUser;if(!o)throw new Error("Currently not lodded in");console.log("trying to add reminder..."),console.log(o.uid);let r=V(this.firestore,`users/${o.uid}/reminders`);yield ye(r,d(a({},t),{notified:!1}))})}updateReminder(t){return u(this,null,function*(){let o=this.auth.currentUser;if(!o)throw new Error("Currently not logged in");let r=R(this.firestore,`users/${o.uid}/reminders/${t.id}`);yield Ie(r,a({},t))})}deleteReminder(t){return u(this,null,function*(){let o=this.auth.currentUser;if(!o)throw new Error("Currently not logged in");let r=R(this.firestore,`users/${o.uid}/reminders/${t}`);yield we(r)})}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})};var gt=class e{actions$=f(ee);firestore=f($);ReminderService=f(mt);add$=E(()=>this.actions$.pipe(D(I.add),T(t=>A(this.ReminderService.addAppointment(t.appointment)).pipe(h(()=>I.addSuccess({appointment:d(a({},t.appointment),{notified:!1})})),y(o=>S(I.addFailure({error:o})))))));updateReminder$=E(()=>this.actions$.pipe(D(I.update),T(t=>A(this.ReminderService.updateReminder(t.appointment)).pipe(h(()=>I.updateSuccess({appointment:t.appointment})),y(o=>S(I.updateFailure({error:o})))))));deleteReminder$=E(()=>this.actions$.pipe(D(I.delete),T(t=>A(this.ReminderService.deleteReminder(t.appointmentId)).pipe(h(()=>I.deleteSuccess({appointmentId:t.appointmentId})),y(o=>S(I.deleteFailure({error:o})))))));load$=E(()=>this.actions$.pipe(D(I.load),T(({userId:t})=>{let o=V(this.firestore,`users/${t}/reminders`);return Je(o,{idField:"id"}).pipe(h(r=>I.loadSuccess({appointments:r})),y(r=>S(I.loadFailure({error:r}))))})));static \u0275fac=function(o){return new(o||e)};static \u0275prov=C({token:e,factory:e.\u0275fac})};var qa={apiKey:"AIzaSyBLb6gK4thvmfCdEvaOqaxNrlo-ruOZV9o",authDomain:"petcheck-c6543.firebaseapp.com",projectId:"petcheck-c6543",storageBucket:"petcheck-c6543.firebasestorage.app",messagingSenderId:"370355042235",appId:"1:370355042235:web:4e6ed52bd4b5ac8e39f69e"},jn={providers:[Do({eventCoalescing:!0}),Fo(Mn),Dn("ngsw-worker.js",{enabled:!xo(),registrationStrategy:"registerWhenStable:30000"}),Bo({auth:Rn,pets:Pn,users:Nn,reminders:Un}),Fn([dt,ft,pt,gt]),hr(()=>br(qa)),vr(()=>Sr()),Mr(()=>{let e=kr();return Tr(e).catch(t=>{console.warn("Firestore Persistence not enabled:",t)}),e}),vn(()=>wn())]};var Ya=Math.pow(10,8)*24*60*60*1e3,Pl=-Ya,$n=6048e5,Ln=864e5,ht=6e4,Wn=36e5;var Ga=3600;var Bn=Ga*24,Nl=Bn*7,za=Bn*365.2425,Ja=za/12,Ul=Ja*3,to=Symbol.for("constructDateFrom");function w(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&to in e?e[to](t):e instanceof Date?new e.constructor(t):new Date(t)}function c(e,t){return w(t||e,e)}function Te(e,t,o){let r=c(e,o?.in);return isNaN(t)?w(o?.in||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function bt(e,t,o){let r=c(e,o?.in);if(isNaN(t))return w(o?.in||e,NaN);if(!t)return r;let n=r.getDate(),i=w(o?.in||e,r.getTime());i.setMonth(r.getMonth()+t+1,0);let s=i.getDate();return n>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}function vt(e,t,o){return w(o?.in||e,+c(e)+t)}function Hn(e,t,o){return vt(e,t*Wn,o)}var Qa={};function yt(){return Qa}function wt(e,t){let o=yt(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0,n=c(e,t?.in),i=n.getDay(),s=(i<r?7:0)+i-r;return n.setDate(n.getDate()-s),n.setHours(0,0,0,0),n}function ue(e,t){return wt(e,d(a({},t),{weekStartsOn:1}))}function Vn(e,t){let o=c(e,t?.in),r=o.getFullYear(),n=w(o,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);let i=ue(n),s=w(o,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);let l=ue(s);return o.getTime()>=i.getTime()?r+1:o.getTime()>=l.getTime()?r:r-1}function oo(e){let t=c(e),o=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return o.setUTCFullYear(t.getFullYear()),+e-+o}function te(e,...t){let o=w.bind(null,e||t.find(r=>typeof r=="object"));return t.map(o)}function oe(e,t){let o=c(e,t?.in);return o.setHours(0,0,0,0),o}function Kn(e,t,o){let[r,n]=te(o?.in,e,t),i=oe(r),s=oe(n),l=+i-oo(i),M=+s-oo(s);return Math.round((l-M)/Ln)}function qn(e,t){let o=Vn(e,t),r=w(t?.in||e,0);return r.setFullYear(o,0,4),r.setHours(0,0,0,0),ue(r)}function Yn(e,t,o){let r=c(e,o?.in);return r.setTime(r.getTime()+t*ht),r}function Gn(e,t,o){return vt(e,t*1e3,o)}function St(e,t,o){return Te(e,t*7,o)}function zn(e,t){let o,r=t?.in;return e.forEach(n=>{!r&&typeof n=="object"&&(r=w.bind(null,n));let i=c(n,r);(!o||o<i||isNaN(+i))&&(o=i)}),w(r,o||NaN)}function Jn(e,t,o){let[r,n]=te(o?.in,e,t);return+oe(r)==+oe(n)}function Zn(e,t,o){let[r,n]=te(o?.in,e,t),i=Qn(r,n),s=Math.abs(Kn(r,n));r.setDate(r.getDate()-i*s);let l=+(Qn(r,n)===-i),M=i*(s-l);return M===0?0:M}function Qn(e,t){let o=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return o<0?-1:o>0?1:o}function It(e){return t=>{let r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function Et(e,t){return+c(e)-+c(t)}function Xn(e,t,o){let r=Et(e,t)/ht;return It(o?.roundingMethod)(r)}function ei(e,t){let o=c(e,t?.in);return o.setHours(23,59,59,999),o}function ti(e,t){let o=c(e,t?.in),r=o.getMonth();return o.setFullYear(o.getFullYear(),r+1,0),o.setHours(23,59,59,999),o}function oi(e,t,o){let r=Et(e,t)/1e3;return It(o?.roundingMethod)(r)}function ri(e,t){let o=c(e,t?.in);return o.setDate(1),o.setHours(0,0,0,0),o}function ni(e,t){let o=yt(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0,n=c(e,t?.in),i=n.getDay(),s=(i<r?-7:0)+6-(i-r);return n.setDate(n.getDate()+s),n.setHours(23,59,59,999),n}function ii(e,t){let o=c(e,t?.in),r=+ue(o)-+qn(o);return Math.round(r/$n)+1}function si(e,t){return c(e,t?.in).getDate()}function ai(e,t){return c(e,t?.in).getDay()}function ci(e,t){let o=c(e,t?.in),r=o.getFullYear(),n=o.getMonth(),i=w(o,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function ui(e,t){return c(e,t?.in).getHours()}function di(e,t){return c(e,t?.in).getMinutes()}function li(e,t){return c(e,t?.in).getMonth()}function fi(e,t){return c(e,t?.in).getFullYear()}function pi(e,t){let o=c(e,t?.in);return o.setSeconds(0,0),o}function mi(e,t,o){let[r,n]=te(o?.in,e,t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function ro(e,t){let o=c(e,t?.in);return o.setMilliseconds(0),o}function gi(e,t){return+ro(e)==+ro(t)}function hi(e,t,o){return Te(e,-t,o)}function bi(e,t,o){let r=c(e,o?.in),n=r.getFullYear(),i=r.getDate(),s=w(o?.in||e,0);s.setFullYear(n,t,15),s.setHours(0,0,0,0);let l=ci(s);return r.setMonth(t,Math.min(i,l)),r}function vi(e,t,o){let r=c(e,o?.in);return r.setDate(t),r}function yi(e,t,o){let r=c(e,o?.in);return r.setHours(t),r}function wi(e,t,o){let r=c(e,o?.in);return r.setMinutes(t),r}function Si(e,t,o){let r=c(e,o?.in);return isNaN(+r)?w(o?.in||e,NaN):(r.setFullYear(t),r)}function Ii(e,t,o){return bt(e,-t,o)}function Ei(e,t,o){return St(e,-t,o)}function Za(e){return new Date(e).getTimezoneOffset()}function Mi(){return{addDays:Te,addHours:Hn,addMinutes:Yn,addSeconds:Gn,differenceInDays:Zn,differenceInMinutes:Xn,differenceInSeconds:oi,endOfDay:ei,endOfMonth:ti,endOfWeek:ni,getDay:ai,getMonth:li,isSameDay:Jn,isSameMonth:mi,isSameSecond:gi,max:zn,setHours:yi,setMinutes:wi,startOfDay:oe,startOfMinute:pi,startOfMonth:ri,startOfWeek:wt,getHours:ui,getMinutes:di,getTimezoneOffset:Za}}function Ti(){return Object.assign(Object.assign({},Mi()),{addWeeks:St,addMonths:bt,subDays:hi,subWeeks:Ei,subMonths:Ii,getISOWeek:ii,setDate:vi,setMonth:bi,setYear:Si,getDate:si,getYear:fi})}var Mt=class e{title="PetCheck";static \u0275fac=function(o){return new(o||e)};static \u0275cmp=B({type:e,selectors:[["app-root"]],features:[ko([No({provide:Po,useFactory:Ti})])],decls:2,vars:0,consts:[[1,"main"]],template:function(o,r){o&1&&(b(0,"main",0),j(1,"router-outlet"),v())},dependencies:[He],encapsulation:2})};function Xa(){return u(this,null,function*(){try{if(yield Oo(Mt,jn),"serviceWorker"in navigator)try{let e=yield navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase/"})}catch(e){console.error("firebase sw registration failed:",e)}}catch(e){console.error("Bootstrap failed: ",e)}})}Xa();
