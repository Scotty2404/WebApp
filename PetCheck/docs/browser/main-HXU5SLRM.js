import{a as k}from"./chunk-TIK4CJX7.js";import{$ as Me,A as Se,B as $e,C as gr,D as te,E as Bo,F as Vo,G as Ko,H as Go,I as Le,J as zo,K as Qo,L as Jo,M as Zo,N as re,O as Xo,P as en,Q as tn,R as rn,S as on,T as nn,V as W,W as an,X as nt,Y as We,Z as Ie,_ as V,a as ho,aa as P,b as vo,ba as sn,ca as un,da as Te,ea as Oe,f as O,fa as fn,g as Po,i as Uo,j as jo,k as $o,l as Lo,r as Wo,s as qo,t as Yo,u as Ho,v as rt,w as Ue,x as xe,y as je,z as ot}from"./chunk-FBMEHAWD.js";import{a as g}from"./chunk-VTGFZXAA.js";import{a as cn,b as at,c as dn,d as ln}from"./chunk-37JGKMDG.js";import{$ as Be,$a as w,A as Z,Ad as Do,B as G,D as I,Da as be,Ed as Eo,F as $,Fb as io,G as Lr,Gb as ye,Gd as Pe,H as Wr,Ha as H,Ia as Ke,Id as ko,J as qr,Ja as Qr,Jd as Ao,K as sr,Ld as Co,M as Yr,Md as Fo,Nd as _o,Oa as Ge,Ob as ze,Od as Ro,Pb as Qe,Pd as No,Qa as Jr,R as B,Ra as cr,Tb as so,U as He,Ua as _e,Wa as Re,X as se,Xc as mr,Y as Hr,_ as C,_a as Q,_b as uo,a as f,aa as he,ab as x,b as p,ba as z,bb as L,ca as m,cd as Xe,da as ve,e as c,ea as Br,ed as go,fd as et,g as me,gd as tt,h as ge,ib as dr,ja as Vr,jb as Zr,jc as fo,jd as bo,kb as Xr,kd as Y,la as Ve,lb as lr,ld as yo,ma as Kr,mb as eo,na as Gr,nd as wo,ob as to,oc as pr,od as xo,pb as ro,pc as co,pd as So,q as _,qd as X,r as T,ra as ur,rc as Je,s as b,sc as we,tc as Ze,td as Io,u as E,uc as lo,ud as h,va as zr,vb as oo,vc as po,vd as ee,wa as fr,wb as no,wd as Mo,xb as N,xc as mo,xd as To,yb as Ne,yd as Oo,z as ir,za as R,zb as ao}from"./chunk-QHXVKW2R.js";var Oa=["*",[["mat-toolbar-row"]]],Da=["*","mat-toolbar-row"],Ea=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275dir=Qr({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return e})(),it=(()=>{class e{_elementRef=m(zr);_platform=m(mo);_document=m(Kr);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=H({type:e,selectors:[["mat-toolbar"]],contentQueries:function(o,n,a){if(o&1&&eo(a,Ea,5),o&2){let i;to(i=ro())&&(n._toolbarRows=i)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(o,n){o&2&&(no(n.color?"mat-"+n.color:""),oo("mat-toolbar-multiple-rows",n._toolbarRows.length>0)("mat-toolbar-single-row",n._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:Da,decls:2,vars:0,template:function(o,n){o&1&&(Xr(Oa),lr(0),lr(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mat-button-text-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mat-button-outlined-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return e})();var st=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=Ke({type:e});static \u0275inj=Be({imports:[mr,mr]})}return e})();var Ca=()=>["/dashboard"],Fa=()=>["/calendar"],_a=()=>["/settings"],ut=class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=H({type:e,selectors:[["app-navbar"]],decls:10,vars:6,consts:[["fxLayoutAlign","space-around center",1,"bottom-nav"],["matIconButton","","routerLinkActive","active",3,"routerLink"]],template:function(r,o){r&1&&(w(0,"mat-toolbar",0)(1,"button",1)(2,"mat-icon"),N(3,"dashboard"),x()(),w(4,"button",1)(5,"mat-icon"),N(6,"calendar_today"),x()(),w(7,"button",1)(8,"mat-icon"),N(9,"settings"),x()()()),r&2&&(R(),Q("routerLink",ye(3,Ca)),R(3),Q("routerLink",ye(4,Fa)),R(3),Q("routerLink",ye(5,_a)))},dependencies:[st,it,fn,Ze,lo,tt,et,Xe],styles:[".bottom-nav[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;justify-content:space-around;height:56px;z-index:1000;background-color:var(--primary-color)}.active[_ngcontent-%COMP%]{background-color:var(--secondary-color)}button[_ngcontent-%COMP%]{color:var(--text-primary)}"]})};var Ra=()=>["/settings"],ct=class e{pageTitle="";static \u0275fac=function(r){return new(r||e)};static \u0275cmp=H({type:e,selectors:[["app-header"]],inputs:{pageTitle:"pageTitle"},decls:8,vars:3,consts:[["color","primary","fxLayoutAlign","space-around center",1,"header"],[1,"spacer"],["matIconButton","","routerLinkActive","active",3,"routerLink"]],template:function(r,o){r&1&&(w(0,"mat-toolbar",0)(1,"span")(2,"strong"),N(3),x()(),L(4,"span",1),w(5,"button",2)(6,"mat-icon"),N(7,"settings"),x()()()),r&2&&(R(3),Ne(o.pageTitle),R(2),Q("routerLink",ye(2,Ra)))},dependencies:[st,it,tt,Ze,Xe],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;padding-left:1.5rem;padding-right:1.5rem;height:56px;z-index:1000;background-color:var(--primary-color);color:var(--text-primary)}button[_ngcontent-%COMP%]{color:var(--text-primary)}"]})};var hn="@firebase/installations",yr="0.6.18";var vn=1e4,bn=`w:${yr}`,yn="FIS_v2",Na="https://firebaseinstallations.googleapis.com/v1",Pa=3600*1e3,Ua="installations",ja="Installations";var $a={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},fe=new rt(Ua,ja,$a);function wn(e){return e instanceof Ho&&e.code.includes("request-failed")}function xn({projectId:e}){return`${Na}/projects/${e}/installations`}function Sn(e){return{token:e.token,requestStatus:2,expiresIn:Wa(e.expiresIn),creationTime:Date.now()}}function In(e,t){return c(this,null,function*(){let o=(yield t.json()).error;return fe.create("request-failed",{requestName:e,serverCode:o.code,serverMessage:o.message,serverStatus:o.status})})}function Mn({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function La(e,{refreshToken:t}){let r=Mn(e);return r.append("Authorization",qa(t)),r}function Tn(e){return c(this,null,function*(){let t=yield e();return t.status>=500&&t.status<600?e():t})}function Wa(e){return Number(e.replace("s","000"))}function qa(e){return`${yn} ${e}`}function Ya(o,n){return c(this,arguments,function*({appConfig:e,heartbeatServiceProvider:t},{fid:r}){let a=xn(e),i=Mn(e),d=t.getImmediate({optional:!0});if(d){let M=yield d.getHeartbeatsHeader();M&&i.append("x-firebase-client",M)}let S={fid:r,authVersion:yn,appId:e.appId,sdkVersion:bn},y={method:"POST",headers:i,body:JSON.stringify(S)},l=yield Tn(()=>fetch(a,y));if(l.ok){let M=yield l.json();return{fid:M.fid||r,registrationStatus:2,refreshToken:M.refreshToken,authToken:Sn(M.authToken)}}else throw yield In("Create Installation",l)})}function On(e){return new Promise(t=>{setTimeout(t,e)})}function Ha(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}var Ba=/^[cdef][\w-]{21}$/,br="";function Va(){try{let e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;let r=Ka(e);return Ba.test(r)?r:br}catch{return br}}function Ka(e){return Ha(e).substr(0,22)}function lt(e){return`${e.appName}!${e.appId}`}var Dn=new Map;function En(e,t){let r=lt(e);kn(r,t),Ga(r,t)}function kn(e,t){let r=Dn.get(e);if(r)for(let o of r)o(t)}function Ga(e,t){let r=za();r&&r.postMessage({key:e,fid:t}),Qa()}var ue=null;function za(){return!ue&&"BroadcastChannel"in self&&(ue=new BroadcastChannel("[Firebase] FID Change"),ue.onmessage=e=>{kn(e.data.key,e.data.fid)}),ue}function Qa(){Dn.size===0&&ue&&(ue.close(),ue=null)}var Ja="firebase-installations-database",Za=1,ce="firebase-installations-store",hr=null;function wr(){return hr||(hr=je(Ja,Za,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ce)}}})),hr}function dt(e,t){return c(this,null,function*(){let r=lt(e),n=(yield wr()).transaction(ce,"readwrite"),a=n.objectStore(ce),i=yield a.get(r);return yield a.put(t,r),yield n.done,(!i||i.fid!==t.fid)&&En(e,t.fid),t})}function An(e){return c(this,null,function*(){let t=lt(e),o=(yield wr()).transaction(ce,"readwrite");yield o.objectStore(ce).delete(t),yield o.done})}function pt(e,t){return c(this,null,function*(){let r=lt(e),n=(yield wr()).transaction(ce,"readwrite"),a=n.objectStore(ce),i=yield a.get(r),d=t(i);return d===void 0?yield a.delete(r):yield a.put(d,r),yield n.done,d&&(!i||i.fid!==d.fid)&&En(e,d.fid),d})}function xr(e){return c(this,null,function*(){let t,r=yield pt(e.appConfig,o=>{let n=Xa(o),a=ei(e,n);return t=a.registrationPromise,a.installationEntry});return r.fid===br?{installationEntry:yield t}:{installationEntry:r,registrationPromise:t}})}function Xa(e){let t=e||{fid:Va(),registrationStatus:0};return Cn(t)}function ei(e,t){if(t.registrationStatus===0){if(!navigator.onLine){let n=Promise.reject(fe.create("app-offline"));return{installationEntry:t,registrationPromise:n}}let r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},o=ti(e,r);return{installationEntry:r,registrationPromise:o}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:ri(e)}:{installationEntry:t}}function ti(e,t){return c(this,null,function*(){try{let r=yield Ya(e,t);return dt(e.appConfig,r)}catch(r){throw wn(r)&&r.customData.serverCode===409?yield An(e.appConfig):yield dt(e.appConfig,{fid:t.fid,registrationStatus:0}),r}})}function ri(e){return c(this,null,function*(){let t=yield mn(e.appConfig);for(;t.registrationStatus===1;)yield On(100),t=yield mn(e.appConfig);if(t.registrationStatus===0){let{installationEntry:r,registrationPromise:o}=yield xr(e);return o||r}return t})}function mn(e){return pt(e,t=>{if(!t)throw fe.create("installation-not-found");return Cn(t)})}function Cn(e){return oi(e)?{fid:e.fid,registrationStatus:0}:e}function oi(e){return e.registrationStatus===1&&e.registrationTime+vn<Date.now()}function ni(o,n){return c(this,arguments,function*({appConfig:e,heartbeatServiceProvider:t},r){let a=ai(e,r),i=La(e,r),d=t.getImmediate({optional:!0});if(d){let M=yield d.getHeartbeatsHeader();M&&i.append("x-firebase-client",M)}let S={installation:{sdkVersion:bn,appId:e.appId}},y={method:"POST",headers:i,body:JSON.stringify(S)},l=yield Tn(()=>fetch(a,y));if(l.ok){let M=yield l.json();return Sn(M)}else throw yield In("Generate Auth Token",l)})}function ai(e,{fid:t}){return`${xn(e)}/${t}/authTokens:generate`}function Sr(e,t=!1){return c(this,null,function*(){let r,o=yield pt(e.appConfig,a=>{if(!Fn(a))throw fe.create("not-registered");let i=a.authToken;if(!t&&ui(i))return a;if(i.requestStatus===1)return r=ii(e,t),a;{if(!navigator.onLine)throw fe.create("app-offline");let d=ci(a);return r=si(e,d),d}});return r?yield r:o.authToken})}function ii(e,t){return c(this,null,function*(){let r=yield gn(e.appConfig);for(;r.authToken.requestStatus===1;)yield On(100),r=yield gn(e.appConfig);let o=r.authToken;return o.requestStatus===0?Sr(e,t):o})}function gn(e){return pt(e,t=>{if(!Fn(t))throw fe.create("not-registered");let r=t.authToken;return di(r)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}function si(e,t){return c(this,null,function*(){try{let r=yield ni(e,t),o=Object.assign(Object.assign({},t),{authToken:r});return yield dt(e.appConfig,o),r}catch(r){if(wn(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))yield An(e.appConfig);else{let o=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield dt(e.appConfig,o)}throw r}})}function Fn(e){return e!==void 0&&e.registrationStatus===2}function ui(e){return e.requestStatus===2&&!fi(e)}function fi(e){let t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Pa}function ci(e){let t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function di(e){return e.requestStatus===1&&e.requestTime+vn<Date.now()}function li(e){return c(this,null,function*(){let t=e,{installationEntry:r,registrationPromise:o}=yield xr(t);return o?o.catch(console.error):Sr(t).catch(console.error),r.fid})}function pi(e,t=!1){return c(this,null,function*(){let r=e;return yield mi(r),(yield Sr(r,t)).token})}function mi(e){return c(this,null,function*(){let{registrationPromise:t}=yield xr(e);t&&(yield t)})}function gi(e){if(!e||!e.options)throw vr("App Configuration");if(!e.name)throw vr("App Name");let t=["projectId","apiKey","appId"];for(let r of t)if(!e.options[r])throw vr(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function vr(e){return fe.create("missing-app-config-values",{valueName:e})}var _n="installations",hi="installations-internal",vi=e=>{let t=e.getProvider("app").getImmediate(),r=gi(t),o=$e(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:o,_delete:()=>Promise.resolve()}},bi=e=>{let t=e.getProvider("app").getImmediate(),r=$e(t,_n).getImmediate();return{getId:()=>li(r),getToken:n=>pi(r,n)}};function yi(){Se(new xe(_n,vi,"PUBLIC")),Se(new xe(hi,bi,"PRIVATE"))}yi();te(hn,yr);te(hn,yr,"esm2017");var wi="/firebase-messaging-sw.js",xi="/firebase-cloud-messaging-push-scope",Ln="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Si="https://fcmregistrations.googleapis.com/v1",Wn="google.c.a.c_id",Ii="google.c.a.c_l",Mi="google.c.a.ts",Ti="google.c.a.e",Rn=1e4;var mt=(function(e){return e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked",e})(mt||{});function J(e){let t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Oi(e){let t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),o=atob(r),n=new Uint8Array(o.length);for(let a=0;a<o.length;++a)n[a]=o.charCodeAt(a);return n}var Ir="fcm_token_details_db",Di=5,Nn="fcm_token_object_Store";function Ei(e){return c(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(a=>a.name).includes(Ir))return null;let t=null;return(yield je(Ir,Di,{upgrade:(o,n,a,i)=>c(null,null,function*(){var d;if(n<2||!o.objectStoreNames.contains(Nn))return;let S=i.objectStore(Nn),y=yield S.index("fcmSenderId").get(e);if(yield S.clear(),!!y){if(n===2){let l=y;if(!l.auth||!l.p256dh||!l.endpoint)return;t={token:l.fcmToken,createTime:(d=l.createTime)!==null&&d!==void 0?d:Date.now(),subscriptionOptions:{auth:l.auth,p256dh:l.p256dh,endpoint:l.endpoint,swScope:l.swScope,vapidKey:typeof l.vapidKey=="string"?l.vapidKey:J(l.vapidKey)}}}else if(n===3){let l=y;t={token:l.fcmToken,createTime:l.createTime,subscriptionOptions:{auth:J(l.auth),p256dh:J(l.p256dh),endpoint:l.endpoint,swScope:l.swScope,vapidKey:J(l.vapidKey)}}}else if(n===4){let l=y;t={token:l.fcmToken,createTime:l.createTime,subscriptionOptions:{auth:J(l.auth),p256dh:J(l.p256dh),endpoint:l.endpoint,swScope:l.swScope,vapidKey:J(l.vapidKey)}}}}})})).close(),yield ot(Ir),yield ot("fcm_vapid_details_db"),yield ot("undefined"),ki(t)?t:null})}function ki(e){if(!e||!e.subscriptionOptions)return!1;let{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}var Ai="firebase-messaging-database",Ci=1,de="firebase-messaging-store",Mr=null;function Dr(){return Mr||(Mr=je(Ai,Ci,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(de)}}})),Mr}function qn(e){return c(this,null,function*(){let t=kr(e),o=yield(yield Dr()).transaction(de).objectStore(de).get(t);if(o)return o;{let n=yield Ei(e.appConfig.senderId);if(n)return yield Er(e,n),n}})}function Er(e,t){return c(this,null,function*(){let r=kr(e),n=(yield Dr()).transaction(de,"readwrite");return yield n.objectStore(de).put(t,r),yield n.done,t})}function Fi(e){return c(this,null,function*(){let t=kr(e),o=(yield Dr()).transaction(de,"readwrite");yield o.objectStore(de).delete(t),yield o.done})}function kr({appConfig:e}){return e.appId}var _i={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},U=new rt("messaging","Messaging",_i);function Ri(e,t){return c(this,null,function*(){let r=yield Cr(e),o=Hn(t),n={method:"POST",headers:r,body:JSON.stringify(o)},a;try{a=yield(yield fetch(Ar(e.appConfig),n)).json()}catch(i){throw U.create("token-subscribe-failed",{errorInfo:i?.toString()})}if(a.error){let i=a.error.message;throw U.create("token-subscribe-failed",{errorInfo:i})}if(!a.token)throw U.create("token-subscribe-no-token");return a.token})}function Ni(e,t){return c(this,null,function*(){let r=yield Cr(e),o=Hn(t.subscriptionOptions),n={method:"PATCH",headers:r,body:JSON.stringify(o)},a;try{a=yield(yield fetch(`${Ar(e.appConfig)}/${t.token}`,n)).json()}catch(i){throw U.create("token-update-failed",{errorInfo:i?.toString()})}if(a.error){let i=a.error.message;throw U.create("token-update-failed",{errorInfo:i})}if(!a.token)throw U.create("token-update-no-token");return a.token})}function Yn(e,t){return c(this,null,function*(){let o={method:"DELETE",headers:yield Cr(e)};try{let a=yield(yield fetch(`${Ar(e.appConfig)}/${t}`,o)).json();if(a.error){let i=a.error.message;throw U.create("token-unsubscribe-failed",{errorInfo:i})}}catch(n){throw U.create("token-unsubscribe-failed",{errorInfo:n?.toString()})}})}function Ar({projectId:e}){return`${Si}/projects/${e}/registrations`}function Cr(r){return c(this,arguments,function*({appConfig:e,installations:t}){let o=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${o}`})})}function Hn({p256dh:e,auth:t,endpoint:r,vapidKey:o}){let n={web:{endpoint:r,auth:t,p256dh:e}};return o!==Ln&&(n.web.applicationPubKey=o),n}var Pi=10080*60*1e3;function Ui(e){return c(this,null,function*(){let t=yield Li(e.swRegistration,e.vapidKey),r={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:J(t.getKey("auth")),p256dh:J(t.getKey("p256dh"))},o=yield qn(e.firebaseDependencies);if(o){if(Wi(o.subscriptionOptions,r))return Date.now()>=o.createTime+Pi?$i(e,{token:o.token,createTime:Date.now(),subscriptionOptions:r}):o.token;try{yield Yn(e.firebaseDependencies,o.token)}catch(n){console.warn(n)}return Pn(e.firebaseDependencies,r)}else return Pn(e.firebaseDependencies,r)})}function ji(e){return c(this,null,function*(){let t=yield qn(e.firebaseDependencies);t&&(yield Yn(e.firebaseDependencies,t.token),yield Fi(e.firebaseDependencies));let r=yield e.swRegistration.pushManager.getSubscription();return r?r.unsubscribe():!0})}function $i(e,t){return c(this,null,function*(){try{let r=yield Ni(e.firebaseDependencies,t),o=Object.assign(Object.assign({},t),{token:r,createTime:Date.now()});return yield Er(e.firebaseDependencies,o),r}catch(r){throw r}})}function Pn(e,t){return c(this,null,function*(){let o={token:yield Ri(e,t),createTime:Date.now(),subscriptionOptions:t};return yield Er(e,o),o.token})}function Li(e,t){return c(this,null,function*(){let r=yield e.pushManager.getSubscription();return r||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Oi(t)})})}function Wi(e,t){let r=t.vapidKey===e.vapidKey,o=t.endpoint===e.endpoint,n=t.auth===e.auth,a=t.p256dh===e.p256dh;return r&&o&&n&&a}function Un(e){let t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return qi(t,e),Yi(t,e),Hi(t,e),t}function qi(e,t){if(!t.notification)return;e.notification={};let r=t.notification.title;r&&(e.notification.title=r);let o=t.notification.body;o&&(e.notification.body=o);let n=t.notification.image;n&&(e.notification.image=n);let a=t.notification.icon;a&&(e.notification.icon=a)}function Yi(e,t){t.data&&(e.data=t.data)}function Hi(e,t){var r,o,n,a,i;if(!t.fcmOptions&&!(!((r=t.notification)===null||r===void 0)&&r.click_action))return;e.fcmOptions={};let d=(n=(o=t.fcmOptions)===null||o===void 0?void 0:o.link)!==null&&n!==void 0?n:(a=t.notification)===null||a===void 0?void 0:a.click_action;d&&(e.fcmOptions.link=d);let S=(i=t.fcmOptions)===null||i===void 0?void 0:i.analytics_label;S&&(e.fcmOptions.analyticsLabel=S)}function Bi(e){return typeof e=="object"&&!!e&&Wn in e}Vi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function Vi(e,t){let r=[];for(let o=0;o<e.length;o++)r.push(e.charAt(o)),o<t.length&&r.push(t.charAt(o));return r.join("")}function Ki(e){if(!e||!e.options)throw Tr("App Configuration Object");if(!e.name)throw Tr("App Name");let t=["projectId","apiKey","appId","messagingSenderId"],{options:r}=e;for(let o of t)if(!r[o])throw Tr(o);return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function Tr(e){return U.create("missing-app-config-values",{valueName:e})}var Or=class{constructor(t,r,o){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let n=Ki(t);this.firebaseDependencies={app:t,appConfig:n,installations:r,analyticsProvider:o}}_delete(){return Promise.resolve()}};function Bn(e){return c(this,null,function*(){try{e.swRegistration=yield navigator.serviceWorker.register(wi,{scope:xi}),e.swRegistration.update().catch(()=>{}),yield Gi(e.swRegistration)}catch(t){throw U.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}})}function Gi(e){return c(this,null,function*(){return new Promise((t,r)=>{let o=setTimeout(()=>r(new Error(`Service worker not registered after ${Rn} ms`)),Rn),n=e.installing||e.waiting;e.active?(clearTimeout(o),t()):n?n.onstatechange=a=>{var i;((i=a.target)===null||i===void 0?void 0:i.state)==="activated"&&(n.onstatechange=null,clearTimeout(o),t())}:(clearTimeout(o),r(new Error("No incoming service worker found.")))})})}function zi(e,t){return c(this,null,function*(){if(!t&&!e.swRegistration&&(yield Bn(e)),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw U.create("invalid-sw-registration");e.swRegistration=t}})}function Qi(e,t){return c(this,null,function*(){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Ln)})}function Vn(e,t){return c(this,null,function*(){if(!navigator)throw U.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw U.create("permission-blocked");return yield Qi(e,t?.vapidKey),yield zi(e,t?.serviceWorkerRegistration),Ui(e)})}function Ji(e,t,r){return c(this,null,function*(){let o=Zi(t);(yield e.firebaseDependencies.analyticsProvider.get()).logEvent(o,{message_id:r[Wn],message_name:r[Ii],message_time:r[Mi],message_device_time:Math.floor(Date.now()/1e3)})})}function Zi(e){switch(e){case mt.NOTIFICATION_CLICKED:return"notification_open";case mt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Xi(e,t){return c(this,null,function*(){let r=t.data;if(!r.isFirebaseMessaging)return;e.onMessageHandler&&r.messageType===mt.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(Un(r)):e.onMessageHandler.next(Un(r)));let o=r.data;Bi(o)&&o[Ti]==="1"&&(yield Ji(e,r.messageType,o))})}var jn="@firebase/messaging",$n="0.12.22";var es=e=>{let t=new Or(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>Xi(t,r)),t},ts=e=>{let t=e.getProvider("messaging").getImmediate();return{getToken:o=>Vn(t,o)}};function rs(){Se(new xe("messaging",es,"PUBLIC")),Se(new xe("messaging-internal",ts,"PRIVATE")),te(jn,$n),te(jn,$n,"esm2017")}function Kn(){return c(this,null,function*(){try{yield qo()}catch{return!1}return typeof window<"u"&&Wo()&&Yo()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function os(e){return c(this,null,function*(){if(!navigator)throw U.create("only-available-in-window");return e.swRegistration||(yield Bn(e)),ji(e)})}function ns(e,t){if(!navigator)throw U.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}function Gn(e=gr()){return Kn().then(t=>{if(!t)throw U.create("unsupported-browser")},t=>{throw U.create("indexed-db-unsupported")}),$e(Ue(e),"messaging").getImmediate()}function zn(e,t){return c(this,null,function*(){return e=Ue(e),Vn(e,t)})}function Qn(e){return e=Ue(e),os(e)}function Jn(e,t){return e=Ue(e),ns(e,t)}rs();var le=class{constructor(t){return t}},Zn="messaging",Fr=class{constructor(){return Ko(Zn)}};var _r=new he("angularfire2.messaging-instances");function as(e,t,r){if(pr(r))return null;let o=Vo(Zn,e,t);return o&&new le(o)}function is(e){return(t,r,o)=>{if(pr(o))return null;let n=t.runOutsideAngular(()=>e(r));return new le(n)}}var ss={provide:Fr,deps:[[new ur,_r]]},us={provide:le,useFactory:as,deps:[[new ur,_r],zo,fr]};function Xn(e,...t){return te("angularfire",Bo.full,"fcm"),ve([us,ss,{provide:_r,useFactory:is(e),multi:!0,deps:[Ge,Ve,fr,Go,Qo,...t]}])}var ea=Le(Qn,!0,2),ta=Le(Gn,!0),ra=Le(zn,!0);var oa=Le(Jn,!1);var De=class e{messaging=m(le);firestore=m(W);auth=m(re);vapidKey="BPZ5Uf3I_ZNqJ6YvXNiBvju9rXJUTn5MFkDLwQCF0cPG2uJ6ZusWmV6tae0A8U8jRjpnmIJQevCsh7Ui6CQYe8Q";onMessageUnsub;registerPushToken(){return c(this,null,function*(){let t=this.auth.currentUser;if(!t)return null;if((yield Notification.requestPermission())!=="granted")throw new Error("Permission not granted for Notification");try{let o=yield navigator.serviceWorker.ready;if(!o)return null;console.log(o);let n=yield ra(this.messaging,{vapidKey:this.vapidKey,serviceWorkerRegistration:o});if(console.log("token: ",n),!n)throw new Error("No registration token received");return yield Te(P(this.firestore,`users/${t.uid}`),{pushToken:n},{merge:!0}),console.log("Push token saved to user: ",n),n}catch(o){throw console.error("Error while token generation: ",o),o}})}removeTokenForCurrentUser(){return c(this,null,function*(){try{yield ea(this.messaging).catch(()=>{});let t=this.auth.currentUser;if(!t)return;yield Te(P(this.firestore,`users/${t.uid}`),{pushToken:null},{merge:!0})}catch(t){console.error("Error deleting token: ",t)}})}listenForMessages(){this.onMessageUnsub||(this.onMessageUnsub=oa(this.messaging,t=>{if(Notification.permission==="granted")try{new Notification(t.notification?.title??"Erinnerung",{body:t.notification?.body})}catch(r){console.error("Error displaying notification: ",r)}}))}stopListening(){this.onMessageUnsub?.(),this.onMessageUnsub=void 0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})};var gt=class e{constructor(t){this.pushService=t}ngOnInit(){this.pushService.listenForMessages()}static \u0275fac=function(r){return new(r||e)(be(De))};static \u0275cmp=H({type:e,selectors:[["app-main-layout"]],decls:6,vars:0,consts:[["pageTitle","PetCheck"]],template:function(r,o){r&1&&(w(0,"header"),L(1,"app-header",0),x(),w(2,"main"),L(3,"router-outlet"),x(),w(4,"footer"),L(5,"app-navbar"),x())},dependencies:[ut,ct,Je],styles:["main[_ngcontent-%COMP%]{padding-top:70px;padding-left:1.5rem;padding-right:1.5rem}"]})};function ds(e,t){e&1&&(w(0,"p"),N(1," Du bist offline \u2013 Login nicht m\xF6glich. "),x())}function ls(e,t){e&1&&(w(0,"mat-form-field",3)(1,"mat-label"),N(2,"Name"),x(),L(3,"input",9),x())}function ps(e,t){if(e&1&&(w(0,"span"),N(1),x()),e&2){let r=Zr();R(),Ne(r.registrate?"Registrieren":"Anmelden")}}function ms(e,t){e&1&&(w(0,"span",7),Vr(),w(1,"svg",10),L(2,"circle",11)(3,"path",12),x(),N(4," L\xE4dt... "),x())}var ht=class e{constructor(t,r,o){this.fb=t;this.store=r;this.router=o}loginForm;loading$;user$;error$;isOnline=navigator.onLine;registrate=!1;ngOnInit(){this.loginForm=this.fb.group({name:[""],email:["",[Pe.required,Pe.email]],password:["",[Pe.required,Pe.minLength(6)]]}),this.loading$=this.store.select(dn),this.user$=this.store.select(cn),this.error$=this.store.select(ln),this.store.select(at).pipe(G(t=>t===!0),$(1)).subscribe(()=>{this.router.navigate(["/dashboard"])}),window.addEventListener("online",()=>this.isOnline=!0),window.addEventListener("offline",()=>this.isOnline=!1)}onSubmit(){if(!(this.loginForm.invalid||!this.isOnline))if(this.registrate){let{name:t,email:r,password:o}=this.loginForm.value;this.store.dispatch(g.register({name:t,email:r,password:o}))}else{let{email:t,password:r}=this.loginForm.value;this.store.dispatch(g.login({email:t,password:r}))}}static \u0275fac=function(r){return new(r||e)(be(Ro),be(X),be(we))};static \u0275cmp=H({type:e,selectors:[["app-login-layout"]],decls:29,vars:14,consts:[[1,"login-page"],[1,"login-card"],["novalidate","",1,"login-form",3,"ngSubmit","formGroup"],["appearance","outline"],["matInput","","formControlName","email"],["matInput","","formControlName","password"],["matButton","","type","submit",1,"w-full","bg-blue-600","hover:bg-blue-700","disabled:bg-gray-400","text-white","font-semibold","py-2","rounded-lg","transition",3,"disabled"],[1,"flex","items-center","justify-center"],["matButton","",3,"click"],["matInput","","formControlName","name"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","mr-2","h-4","w-4","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8v8z",1,"opacity-75"]],template:function(r,o){r&1&&(w(0,"div")(1,"div",0)(2,"mat-card",1)(3,"mat-card-title"),N(4," Willkommen zur\xFCck\u{1F44B} "),x(),w(5,"mat-card-content"),_e(6,ds,2,0,"p"),w(7,"form",2),dr("ngSubmit",function(){return o.onSubmit()}),_e(8,ls,4,0,"mat-form-field",3),w(9,"mat-form-field",3)(10,"mat-label"),N(11,"E-Mail"),x(),L(12,"input",4),x(),w(13,"mat-form-field",3)(14,"mat-label"),N(15,"Passwort"),x(),L(16,"input",5),x(),L(17,"br"),w(18,"button",6),ze(19,"async"),_e(20,ps,2,1,"span"),ze(21,"async"),_e(22,ms,5,0,"span",7),ze(23,"async"),x()(),w(24,"div")(25,"p"),N(26),w(27,"button",8),dr("click",function(){return o.registrate=!o.registrate}),N(28),x()()()()()()()),r&2&&(R(6),Re(o.isOnline?-1:6),R(),Q("formGroup",o.loginForm),R(),Re(o.registrate?8:-1),R(10),Q("disabled",o.loginForm.invalid||Qe(19,8,o.loading$)||!o.isOnline),R(2),Re(Qe(21,10,o.loading$)?-1:20),R(2),Re(Qe(23,12,o.loading$)?22:-1),R(4),ao(" ",o.registrate?"Sie haben bereits ein Konto?":"Noch kein Konto?"," "),R(2),Ne(o.registrate?"Anmelden":"Registrieren"))},dependencies:[No,Co,Eo,ko,Ao,Fo,_o,Do,Mo,Oo,To,jo,Uo,Po,Lo,$o,et,go,fo],styles:[".login-page[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh}.login-card[_ngcontent-%COMP%]{margin:2rem auto;padding:1rem}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}mat-card-content[_ngcontent-%COMP%]{padding-top:2rem}"]})};var na=()=>{let e=m(X),t=m(we);return e.select(at).pipe($(1),He(r=>{r||t.navigate(["/login"])}))};var aa=[{path:"login",component:ht},{path:"",component:gt,canActivate:[na],children:[{path:"dashboard",loadChildren:()=>import("./chunk-BD2O2GKG.js").then(e=>e.DashboardModule)},{path:"calendar",loadChildren:()=>import("./chunk-6KL7BXOE.js").then(e=>e.CalendarModule)},{path:"settings",loadChildren:()=>import("./chunk-IUAO776Q.js").then(e=>e.SettingsModule)},{path:"",redirectTo:"dashboard",pathMatch:"full"}]}];var Rr="Service workers are disabled or not supported by this browser",Ee=class{serviceWorker;worker;registration;events;constructor(t,r){if(this.serviceWorker=t,!t)this.worker=this.events=this.registration=new me(o=>o.error(new se(5601,!1)));else{let o=null,n=new ge;this.worker=new me(y=>(o!==null&&y.next(o),n.subscribe(l=>y.next(l))));let a=()=>{let{controller:y}=t;y!==null&&(o=y,n.next(o))};t.addEventListener("controllerchange",a),a(),this.registration=this.worker.pipe(B(()=>t.getRegistration().then(y=>{if(!y)throw new se(5601,!1);return y})));let i=new ge;this.events=i.asObservable();let d=y=>{let{data:l}=y;l?.type&&i.next(l)};t.addEventListener("message",d),r?.get(cr,null,{optional:!0})?.onDestroy(()=>{t.removeEventListener("controllerchange",a),t.removeEventListener("message",d)})}}postMessage(t,r){return new Promise(o=>{this.worker.pipe($(1)).subscribe(n=>{n.postMessage(f({action:t},r)),o()})})}postMessageWithOperation(t,r,o){let n=this.waitForOperationCompleted(o),a=this.postMessage(t,r);return Promise.all([a,n]).then(([,i])=>i)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(t){let r;return typeof t=="string"?r=o=>o.type===t:r=o=>t.includes(o.type),this.events.pipe(G(r))}nextEventOfType(t){return this.eventsOfType(t).pipe($(1))}waitForOperationCompleted(t){return new Promise((r,o)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(G(n=>n.nonce===t),$(1),b(n=>{if(n.result!==void 0)return n.result;throw new Error(n.error)})).subscribe({next:r,error:o})})}get isEnabled(){return!!this.serviceWorker}},gs=(()=>{class e{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new ge;constructor(r){if(this.sw=r,!r.isEnabled){this.messages=Z,this.notificationClicks=Z,this.notificationCloses=Z,this.pushSubscriptionChanges=Z,this.subscription=Z;return}this.messages=this.sw.eventsOfType("PUSH").pipe(b(n=>n.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(b(n=>n.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(b(n=>n.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(b(n=>n.data)),this.pushManager=this.sw.registration.pipe(b(n=>n.pushManager));let o=this.pushManager.pipe(B(n=>n.getSubscription()));this.subscription=new me(n=>{let a=o.subscribe(n),i=this.subscriptionChanges.subscribe(n);return()=>{a.unsubscribe(),i.unsubscribe()}})}requestSubscription(r){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Rr));let o={userVisibleOnly:!0},n=this.decodeBase64(r.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),a=new Uint8Array(new ArrayBuffer(n.length));for(let i=0;i<n.length;i++)a[i]=n.charCodeAt(i);return o.applicationServerKey=a,new Promise((i,d)=>{this.pushManager.pipe(B(S=>S.subscribe(o)),$(1)).subscribe({next:S=>{this.subscriptionChanges.next(S),i(S)},error:d})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Rr));let r=o=>{if(o===null)throw new se(5602,!1);return o.unsubscribe().then(n=>{if(!n)throw new se(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((o,n)=>{this.subscription.pipe($(1),B(r)).subscribe({next:o,error:n})})}decodeBase64(r){return atob(r)}static \u0275fac=function(o){return new(o||e)(z(Ee))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),hs=(()=>{class e{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(r){if(this.sw=r,!r.isEnabled){this.versionUpdates=Z,this.unrecoverable=Z;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED","VERSION_FAILED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Rr));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let r=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:r},r).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new se(5601,!1));let r=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:r},r)}static \u0275fac=function(o){return new(o||e)(z(Ee))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})();var sa=new he("");function vs(){let e=m(qe);if(!("serviceWorker"in navigator&&e.enabled!==!1))return;let t=m(sa),r=m(Ge),o=m(cr);r.runOutsideAngular(()=>{let n=navigator.serviceWorker,a=()=>n.controller?.postMessage({action:"INITIALIZE"});n.addEventListener("controllerchange",a),o.onDestroy(()=>{n.removeEventListener("controllerchange",a)})}),r.runOutsideAngular(()=>{let n,{registrationStrategy:a}=e;if(typeof a=="function")n=new Promise(i=>a().subscribe(()=>i()));else{let[i,...d]=(a||"registerWhenStable:30000").split(":");switch(i){case"registerImmediately":n=Promise.resolve();break;case"registerWithDelay":n=ia(+d[0]||0);break;case"registerWhenStable":n=Promise.race([o.whenStable(),ia(+d[0])]);break;default:throw new se(5600,!1)}}n.then(()=>{o.destroyed||navigator.serviceWorker.register(t,{scope:e.scope,updateViaCache:e.updateViaCache,type:e.type}).catch(i=>console.error(Hr(5604,!1)))})})}function ia(e){return new Promise(t=>setTimeout(t,e))}function bs(e,t){return new Ee(e.enabled!==!1?navigator.serviceWorker:void 0,t)}var qe=class{enabled;updateViaCache;type;scope;registrationStrategy};function ua(e,t={}){return ve([gs,hs,{provide:sa,useValue:e},{provide:qe,useValue:t},{provide:Ee,useFactory:bs,deps:[qe,Ve]},Jr(vs)])}var ys={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},vt="__@ngrx/effects_create__";function D(e,t={}){let r=t.functional?e:e(),o=f(f({},ys),t);return Object.defineProperty(r,vt,{value:o}),r}function ws(e){return Object.getOwnPropertyNames(e).filter(o=>e[o]&&e[o].hasOwnProperty(vt)?e[o][vt].hasOwnProperty("dispatch"):!1).map(o=>{let n=e[o][vt];return f({propertyName:o},n)})}function xs(e){return ws(e)}function fa(e){return Object.getPrototypeOf(e)}function Ss(e){return!!e.constructor&&e.constructor.name!=="Object"&&e.constructor.name!=="Function"}function ca(e){return typeof e=="function"}function Is(e){return e.filter(ca)}function Ms(e,t,r){let o=fa(e),a=!!o&&o.constructor.name!=="Object"?o.constructor.name:null,i=xs(e).map(({propertyName:d,dispatch:S,useEffectsErrorHandler:y})=>{let l=typeof e[d]=="function"?e[d]():e[d],M=y?r(l,t):l;return S===!1?M.pipe(Lr()):M.pipe(Yr()).pipe(b(ie=>({effect:e[d],notification:ie,propertyName:d,sourceName:a,sourceInstance:e})))});return ir(...i)}var Ts=10;function da(e,t,r=Ts){return e.pipe(I(o=>(t&&t.handleError(o),r<=1?e:da(e,t,r-1))))}var oe=(()=>{let t=class t extends me{constructor(o){super(),o&&(this.source=o)}lift(o){let n=new t;return n.source=this,n.operator=o,n}};t.\u0275fac=function(n){return new(n||t)(z(So))},t.\u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function A(...e){return G(t=>e.some(r=>typeof r=="string"?r===t.type:r.type===t.type))}var Os=new he("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>da}),Ds="@ngrx/effects/init",Es=bo(Ds);function ks(e,t){if(e.notification.kind==="N"){let r=e.notification.value;!As(r)&&t.handleError(new Error(`Effect ${Cs(e)} dispatched an invalid action: ${Fs(r)}`))}}function As(e){return typeof e!="function"&&e&&e.type&&typeof e.type=="string"}function Cs({propertyName:e,sourceInstance:t,sourceName:r}){let o=typeof t[e]=="function";return!!r?`"${r}.${String(e)}${o?"()":""}"`:`"${String(e)}()"`}function Fs(e){try{return JSON.stringify(e)}catch{return e}}var _s="ngrxOnIdentifyEffects";function Rs(e){return Nr(e,_s)}var Ns="ngrxOnRunEffects";function Ps(e){return Nr(e,Ns)}var Us="ngrxOnInitEffects";function js(e){return Nr(e,Us)}function Nr(e,t){return e&&t in e&&typeof e[t]=="function"}var la=(()=>{let t=class t extends ge{constructor(o,n){super(),this.errorHandler=o,this.effectsErrorHandler=n}addEffects(o){this.next(o)}toActions(){return this.pipe(sr(o=>Ss(o)?fa(o):o),E(o=>o.pipe(sr($s))),E(o=>{let n=o.pipe(qr(i=>Ls(this.errorHandler,this.effectsErrorHandler)(i)),b(i=>(ks(i,this.errorHandler),i.notification)),G(i=>i.kind==="N"&&i.value!=null),Wr()),a=o.pipe($(1),G(js),b(i=>i.ngrxOnInitEffects()));return ir(n,a)}))}};t.\u0275fac=function(n){return new(n||t)(z(Gr),z(Os))},t.\u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function $s(e){return Rs(e)?e.ngrxOnIdentifyEffects():""}function Ls(e,t){return r=>{let o=Ms(r,e,t);return Ps(r)?r.ngrxOnRunEffects(o):o}}var Ws=(()=>{let t=class t{get isStarted(){return!!this.effectsSubscription}constructor(o,n){this.effectSources=o,this.store=n,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};t.\u0275fac=function(n){return new(n||t)(z(la),z(X))},t.\u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function pa(...e){let t=e.flat(),r=Is(t);return ve([r,Br(()=>{m(wo),m(xo,{optional:!0});let o=m(Ws),n=m(la),a=!o.isStarted;a&&o.start();for(let i of t){let d=ca(i)?m(i):i;n.addEffects(d)}a&&m(X).dispatch(Es())})])}var ma={user:null,loading:!1,isAuthenticated:!1},ga=ee(ma,h(g.login,g.register,e=>(console.log("loggin in ... :",e),p(f({},e),{loading:!0}))),h(g.loginSucess,g.registerSucess,(e,{user:t})=>p(f({},e),{user:t,loading:!1,isAuthenticated:!0})),h(g.loginFailure,g.registerFailure,(e,{error:t})=>p(f({},e),{loading:!1,error:t})),h(g.logoutSucess,()=>f({},ma)),h(g.generatePushToken,e=>p(f({},e),{loading:!0})),h(g.generatePushTokenSuccess,(e,{token:t})=>p(f({},e),{loading:!1,user:e.user?p(f({},e.user),{pushToken:t}):null})),h(g.generatePushTokenFailure,(e,{error:t})=>p(f({},e),{loading:!1,error:t})),h(g.deletePushToken,e=>p(f({},e),{loading:!0})),h(g.deletePushTokenSuccess,e=>p(f({},e),{loading:!1,user:e.user?p(f({},e.user),{pushToken:null}):null})),h(g.deletePushTokenFailure,e=>p(f({},e),{loading:!1})),h(g.authStateChanged,(e,{user:t})=>p(f({},e),{user:t,isAuthenticated:!!t})));var qs={pets:[],loading:!1,error:null,offlineQueue:[]},ha=ee(qs,h(k.loadPets,e=>p(f({},e),{loading:!0})),h(k.loadPetsSuccess,(e,{pets:t})=>p(f({},e),{loading:!1,pets:t})),h(k.loadPetsFailure,(e,{error:t})=>p(f({},e),{loading:!1,error:t})),h(k.addPetSucess,(e,{pet:t})=>p(f({},e),{pets:[...e.pets,t]})),h(k.updatePetSucess,(e,{pet:t})=>p(f({},e),{pets:e.pets.map(r=>r.id===t.id?t:r)})),h(k.deletePetSucess,(e,{petId:t})=>p(f({},e),{pets:e.pets.filter(r=>r.id!==t)})),h(k.queueOfflineAction,(e,{action:t})=>p(f({},e),{offlineQueue:[...e.offlineQueue,t]})),h(k.syncOfflineActions,e=>p(f({},e),{offlineQueue:[]})));var F=yo({source:"User",events:{"Load User":Y(),"Load User Sucess":Y(),"Load User Failure":Y(),"Add User":Y(),"Add User Sucess":Y(),"Add User Failure":Y(),"Update User":Y(),"Update User Sucess":Y(),"Update User Failure":Y(),"Delete User":Y(),"Delete User Sucess":Y(),"Delete User Failure":Y()}});var Ys={users:[],loading:!1,loggedIn:!1,error:null},va=ee(Ys,h(F.loadUser,e=>p(f({},e),{loading:!0})),h(F.loadUserSucess,(e,{user:t})=>p(f({},e),{selectedUser:t,loading:!1,loggedIn:!0})),h(F.loadUserFailure,(e,{error:t})=>p(f({},e),{loading:!1,loggedIn:!1,error:t})),h(F.addUserSucess,(e,{user:t})=>p(f({},e),{users:[...e.users,t]})),h(F.updateUserSucess,(e,{user:t})=>p(f({},e),{users:e.users.map(r=>r.id===t.id?t:r),selectedUser:e.selectedUser?.id===t.id?t:e.selectedUser})),h(F.deleteUserSucess,(e,{userId:t})=>p(f({},e),{users:e.users.filter(r=>r.id!==t),selectedUser:e.selectedUser?.id===t?void 0:e.selectedUser})));var bt=class e{actions$=m(oe);auth=m(re);firestore=m(W);pushService=m(De);router=m(we);login$=D(()=>this.actions$.pipe(A(g.login),E(({email:t,password:r})=>_(on(this.auth,t,r)).pipe(B(({user:o})=>{let n=P(this.firestore,`users/${o.uid}`);return We(n,{idField:"id"}).pipe($(1),b(a=>{if(a)return g.loginSucess({user:a});{let i={id:o.uid,name:o.displayName??"",email:o.email??""};return Te(n,i),g.loginSucess({user:i})}}))}),I(o=>(console.error("[AuthEffect] Login Error:",o),T(g.loginFailure({error:o}))))))));register$=D(()=>this.actions$.pipe(A(g.register),E(({email:t,password:r,name:o})=>_(tn(this.auth,t,r)).pipe(B(({user:n})=>{let a={id:n.uid,name:o,email:t},i=P(this.firestore,`users/${n.uid}`);return _(Te(i,a)).pipe(b(()=>g.registerSucess({user:a})),I(d=>T(g.registerFailure({error:d}))))}),I(n=>T(g.registerFailure({error:n})))))));generateToken$=D(()=>this.actions$.pipe(A(g.generatePushToken),B(()=>_(this.pushService.registerPushToken()).pipe(b(t=>{if(t==null)throw new Error("No token generated");return g.generatePushTokenSuccess({token:t})}),I(t=>T(g.generatePushTokenFailure({error:t})))))));deleteToken$=D(()=>this.actions$.pipe(A(g.deletePushToken),B(()=>_(this.pushService.removeTokenForCurrentUser()).pipe(b(()=>g.deletePushTokenSuccess()),I(t=>T(g.deletePushTokenFailure({error:t})))))));logout$=D(()=>this.actions$.pipe(A(g.logout),E(()=>_(nn(this.auth)).pipe(b(()=>g.logoutSucess()),I(t=>T(g.logoutFailure({error:t})))))));logoutSuccess$=D(()=>this.actions$.pipe(A(g.logoutSucess),He(()=>{this.router.navigate(["/login"])})),{dispatch:!1});authState$=D(()=>en(this.auth).pipe(B(t=>{if(!t)return T(g.authStateChanged({user:null}));let r=P(this.firestore,`users/${t.uid}`);return We(r,{idField:"id"}).pipe(b(o=>g.authStateChanged({user:o})),I(o=>(console.error("[AuthEffect] Error loading userDoc: ",o),T(g.authStateChanged({user:null})))))})));static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac})};var yt=class e{firestore=m(W);auth=m(re);addPet(t){return c(this,null,function*(){let r=this.auth.currentUser;if(!r)throw new Error("Currently not logged in");let o=V(this.firestore,`users/${r.uid}/pets`);yield Ie(o,p(f({},t),{ownerId:r.uid}))})}updatePet(t){return c(this,null,function*(){let r=this.auth.currentUser;if(!r)throw new Error("Currently not logged in");let o=P(this.firestore,`users/${r.uid}/pets/${t.id}`);yield Oe(o,f({},t))})}deletePet(t){return c(this,null,function*(){let r=this.auth.currentUser;if(!r)throw new Error("Currently not logged in");let o=P(this.firestore,`users/${r.uid}/pets/${t}`);yield Me(o)})}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})};var wt=class e{actions$=m(oe);firestore=m(W);petService=m(yt);loadPets$=D(()=>this.actions$.pipe(A(k.loadPets),E(({userId:t})=>{let r=V(this.firestore,`users/${t}/pets`);return nt(r,{idField:"id"}).pipe(b(o=>k.loadPetsSuccess({pets:o})),I(o=>T(k.loadPetsFailure({error:o}))))})));addPet$=D(()=>this.actions$.pipe(A(k.addPet),E(t=>_(this.petService.addPet(t.pet)).pipe(b(()=>k.addPetSucess({pet:t.pet})),I(r=>T(k.addPetFailure({error:r})))))));updatePet$=D(()=>this.actions$.pipe(A(k.updatePet),E(t=>_(this.petService.updatePet(t.pet)).pipe(b(()=>k.updatePetSucess({pet:t.pet})),I(r=>T(k.updatePetFailure({error:r})))))));deletePet$=D(()=>this.actions$.pipe(A(k.deletePet),E(t=>_(this.petService.deletePet(t.petId)).pipe(b(()=>k.deletePetSucess({petId:t.petId})),I(r=>T(k.deletePetFailure({error:r})))))));static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac})};var xt=class e{actions$=m(oe);firestore=m(W);loadUser$=D(()=>this.actions$.pipe(A(F.loadUser),E(({userId:t})=>{let r=P(this.firestore,`users/${t}`);return We(r,{idField:"id"}).pipe(b(o=>F.loadUserSucess({user:o})),I(o=>T(F.loadUserFailure({error:o}))))})));AddUser$=D(()=>this.actions$.pipe(A(F.addUser),E(({user:t})=>{let r=V(this.firestore,"users");return _(Ie(r,t)).pipe(b(o=>F.addUserSucess({user:p(f({},t),{id:o.id})})),I(o=>T(F.addUserFailure({error:o}))))})));updateUser$=D(()=>this.actions$.pipe(A(F.updateUser),E(({user:t})=>{let r=P(this.firestore,`users/${t.id}`);return _(Oe(r,f({},t))).pipe(b(()=>F.updateUserSucess({user:t})),I(o=>T(F.updateUserFailure({error:o}))))})));deleteUser$=D(()=>this.actions$.pipe(A(F.deleteUser),E(({userId:t})=>{let r=P(this.firestore,`users/${t}`);return _(Me(r)).pipe(b(()=>F.deleteUserSucess({userId:t})),I(o=>T(F.deleteUserFailure({error:o}))))})));static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac})};var Hs={reminders:[],loading:!1},ba=ee(Hs,h(O.addSuccess,(e,{appointment:t})=>{let r=e.reminders??[];return r.some(n=>n.id===t.id)?p(f({},e),{loading:!1}):p(f({},e),{loading:!1,reminders:[...r,t]})}),h(O.addFailure,(e,{error:t})=>p(f({},e),{loading:!1,error:t})),h(O.updateSuccess,(e,{appointment:t})=>p(f({},e),{reminders:e.reminders.map(r=>r.id===t.id?t:r)})),h(O.delete,e=>p(f({},e),{loading:!0})),h(O.deleteFailure,(e,{error:t})=>p(f({},e),{loading:!1,error:t})),h(O.deleteSuccess,(e,{appointmentId:t})=>p(f({},e),{loading:!1,reminders:e.reminders.filter(r=>r.id!==t)})),h(O.load,e=>p(f({},e),{loading:!0})),h(O.loadSuccess,(e,{appointments:t})=>p(f({},e),{loading:!1,reminders:[...e.reminders,...t]})),h(O.loadFailure,(e,{error:t})=>p(f({},e),{loading:!1,error:t})));var St=class e{firestore=m(W);auth=m(re);addAppointment(t){return c(this,null,function*(){let r=this.auth.currentUser;if(!r)throw new Error("Currently not lodded in");console.log("trying to add reminder..."),console.log(r.uid);let o=V(this.firestore,`users/${r.uid}/reminders`);yield Ie(o,p(f({},t),{notified:!1}))})}updateReminder(t){return c(this,null,function*(){let r=this.auth.currentUser;if(!r)throw new Error("Currently not logged in");let o=P(this.firestore,`users/${r.uid}/reminders/${t.id}`);yield Oe(o,f({},t))})}deleteReminder(t){return c(this,null,function*(){let r=this.auth.currentUser;if(!r)throw new Error("Currently not logged in");let o=P(this.firestore,`users/${r.uid}/reminders/${t}`);yield Me(o)})}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})};var It=class e{actions$=m(oe);firestore=m(W);ReminderService=m(St);add$=D(()=>this.actions$.pipe(A(O.add),E(t=>_(this.ReminderService.addAppointment(t.appointment)).pipe(b(()=>O.addSuccess({appointment:p(f({},t.appointment),{notified:!1})})),I(r=>T(O.addFailure({error:r})))))));updateReminder$=D(()=>this.actions$.pipe(A(O.update),E(t=>_(this.ReminderService.updateReminder(t.appointment)).pipe(b(()=>O.updateSuccess({appointment:t.appointment})),I(r=>T(O.updateFailure({error:r})))))));deleteReminder$=D(()=>this.actions$.pipe(A(O.delete),E(t=>_(this.ReminderService.deleteReminder(t.appointmentId)).pipe(b(()=>O.deleteSuccess({appointmentId:t.appointmentId})),I(r=>T(O.deleteFailure({error:r})))))));load$=D(()=>this.actions$.pipe(A(O.load),E(({userId:t})=>{let r=V(this.firestore,`users/${t}/reminders`);return nt(r,{idField:"id"}).pipe(b(o=>O.loadSuccess({appointments:o})),I(o=>T(O.loadFailure({error:o}))))})));static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac})};var Bs={apiKey:"AIzaSyBLb6gK4thvmfCdEvaOqaxNrlo-ruOZV9o",authDomain:"petcheck-c6543.firebaseapp.com",projectId:"petcheck-c6543",storageBucket:"petcheck-c6543.firebasestorage.app",messagingSenderId:"370355042235",appId:"1:370355042235:web:4e6ed52bd4b5ac8e39f69e"},ya={providers:[so({eventCoalescing:!0}),po(aa),ua("ngsw-worker.js",{enabled:!uo(),registrationStrategy:"registerWhenStable:30000"}),Io({auth:ga,pets:ha,users:va,reminders:ba}),pa([bt,wt,xt,It]),Jo(()=>Zo(Bs)),Xo(()=>rn()),an(()=>{let e=un();return sn(e).catch(t=>{console.warn("Firestore Persistence not enabled:",t)}),e}),Xn(()=>ta())]};function ke(e){"@babel/helpers - typeof";return ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ke(e)}function v(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function s(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function u(e){s(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||ke(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function ne(e,t){s(2,arguments);var r=u(e),o=v(t);return isNaN(o)?new Date(NaN):(o&&r.setDate(r.getDate()+o),r)}function Ae(e,t){s(2,arguments);var r=u(e),o=v(t);if(isNaN(o))return new Date(NaN);if(!o)return r;var n=r.getDate(),a=new Date(r.getTime());a.setMonth(r.getMonth()+o+1,0);var i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}function pe(e,t){s(2,arguments);var r=u(e).getTime(),o=v(t);return new Date(r+o)}var Vs=36e5;function Mt(e,t){s(2,arguments);var r=v(t);return pe(e,r*Vs)}var Ks={};function Tt(){return Ks}function Ce(e,t){var r,o,n,a,i,d,S,y;s(1,arguments);var l=Tt(),M=v((r=(o=(n=(a=t?.weekStartsOn)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(d=i.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:l.weekStartsOn)!==null&&o!==void 0?o:(S=l.locale)===null||S===void 0||(y=S.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&r!==void 0?r:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var j=u(e),ie=j.getDay(),ar=(ie<M?7:0)+ie-M;return j.setDate(j.getDate()-ar),j.setHours(0,0,0,0),j}function ae(e){return s(1,arguments),Ce(e,{weekStartsOn:1})}function Pr(e){s(1,arguments);var t=u(e),r=t.getFullYear(),o=new Date(0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);var n=ae(o),a=new Date(0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);var i=ae(a);return t.getTime()>=n.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function Ur(e){s(1,arguments);var t=Pr(e),r=new Date(0);r.setFullYear(t,0,4),r.setHours(0,0,0,0);var o=ae(r);return o}function Ot(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function K(e){s(1,arguments);var t=u(e);return t.setHours(0,0,0,0),t}var Gs=864e5;function jr(e,t){s(2,arguments);var r=K(e),o=K(t),n=r.getTime()-Ot(r),a=o.getTime()-Ot(o);return Math.round((n-a)/Gs)}var zs=6e4;function Dt(e,t){s(2,arguments);var r=v(t);return pe(e,r*zs)}function Et(e,t){s(2,arguments);var r=v(t);return pe(e,r*1e3)}function Fe(e,t){s(2,arguments);var r=v(t),o=r*7;return ne(e,o)}function kt(e){s(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(ke(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var r;return t.forEach(function(o){var n=u(o);(r===void 0||r<n||isNaN(Number(n)))&&(r=n)}),r||new Date(NaN)}var Qs=365.2425,Js=Math.pow(10,8)*24*60*60*1e3,wa=6e4;var Ql=-Js;var Zs=3600;var xa=Zs*24,Jl=xa*7,Xs=xa*Qs,eu=Xs/12,Zl=eu*3;function At(e,t){s(2,arguments);var r=K(e),o=K(t);return r.getTime()===o.getTime()}function Sa(e,t){var r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function Ct(e,t){s(2,arguments);var r=u(e),o=u(t),n=Sa(r,o),a=Math.abs(jr(r,o));r.setDate(r.getDate()-n*a);var i=+(Sa(r,o)===-n),d=n*(a-i);return d===0?0:d}function Ye(e,t){return s(2,arguments),u(e).getTime()-u(t).getTime()}var Ia={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},tu="trunc";function Ft(e){return e?Ia[e]:Ia[tu]}function _t(e,t,r){s(2,arguments);var o=Ye(e,t)/wa;return Ft(r?.roundingMethod)(o)}function Rt(e){s(1,arguments);var t=u(e);return t.setHours(23,59,59,999),t}function Nt(e){s(1,arguments);var t=u(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Pt(e,t,r){s(2,arguments);var o=Ye(e,t)/1e3;return Ft(r?.roundingMethod)(o)}function Ut(e){s(1,arguments);var t=u(e);return t.setSeconds(0,0),t}function jt(e){s(1,arguments);var t=u(e);return t.setDate(1),t.setHours(0,0,0,0),t}function $t(e,t){var r,o,n,a,i,d,S,y;s(1,arguments);var l=Tt(),M=v((r=(o=(n=(a=t?.weekStartsOn)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(d=i.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:l.weekStartsOn)!==null&&o!==void 0?o:(S=l.locale)===null||S===void 0||(y=S.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&r!==void 0?r:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var j=u(e),ie=j.getDay(),ar=(ie<M?-7:0)+6-(ie-M);return j.setDate(j.getDate()+ar),j.setHours(23,59,59,999),j}function Lt(e){s(1,arguments);var t=u(e),r=t.getDate();return r}function Wt(e){s(1,arguments);var t=u(e),r=t.getDay();return r}function $r(e){s(1,arguments);var t=u(e),r=t.getFullYear(),o=t.getMonth(),n=new Date(0);return n.setFullYear(r,o+1,0),n.setHours(0,0,0,0),n.getDate()}function qt(e){s(1,arguments);var t=u(e),r=t.getHours();return r}var ru=6048e5;function Yt(e){s(1,arguments);var t=u(e),r=ae(t).getTime()-Ur(t).getTime();return Math.round(r/ru)+1}function Ht(e){s(1,arguments);var t=u(e),r=t.getMinutes();return r}function Bt(e){s(1,arguments);var t=u(e),r=t.getMonth();return r}function Vt(e){return s(1,arguments),u(e).getFullYear()}function Kt(e,t){s(2,arguments);var r=u(e),o=u(t);return r.getFullYear()===o.getFullYear()&&r.getMonth()===o.getMonth()}function Gt(e){s(1,arguments);var t=u(e);return t.setMilliseconds(0),t}function zt(e,t){s(2,arguments);var r=Gt(e),o=Gt(t);return r.getTime()===o.getTime()}function Qt(e,t){s(2,arguments);var r=v(t);return ne(e,-r)}function Jt(e,t){s(2,arguments);var r=u(e),o=v(t),n=r.getFullYear(),a=r.getDate(),i=new Date(0);i.setFullYear(n,o,15),i.setHours(0,0,0,0);var d=$r(i);return r.setMonth(o,Math.min(a,d)),r}function Zt(e,t){s(2,arguments);var r=u(e),o=v(t);return r.setDate(o),r}function Xt(e,t){s(2,arguments);var r=u(e),o=v(t);return r.setHours(o),r}function er(e,t){s(2,arguments);var r=u(e),o=v(t);return r.setMinutes(o),r}function tr(e,t){s(2,arguments);var r=u(e),o=v(t);return isNaN(r.getTime())?new Date(NaN):(r.setFullYear(o),r)}function rr(e,t){s(2,arguments);var r=v(t);return Ae(e,-r)}function or(e,t){s(2,arguments);var r=v(t);return Fe(e,-r)}function ou(e){return new Date(e).getTimezoneOffset()}function Ma(){return{addDays:ne,addHours:Mt,addMinutes:Dt,addSeconds:Et,differenceInDays:Ct,differenceInMinutes:_t,differenceInSeconds:Pt,endOfDay:Rt,endOfMonth:Nt,endOfWeek:$t,getDay:Wt,getMonth:Bt,isSameDay:At,isSameMonth:Kt,isSameSecond:zt,max:kt,setHours:Xt,setMinutes:er,startOfDay:K,startOfMinute:Ut,startOfMonth:jt,startOfWeek:Ce,getHours:qt,getMinutes:Ht,getTimezoneOffset:ou}}function Ta(){return Object.assign(Object.assign({},Ma()),{addWeeks:Fe,addMonths:Ae,subDays:Qt,subWeeks:or,subMonths:rr,getISOWeek:Yt,setDate:Zt,setMonth:Jt,setYear:tr,getDate:Lt,getYear:Vt})}var nr=class e{title="PetCheck";static \u0275fac=function(r){return new(r||e)};static \u0275cmp=H({type:e,selectors:[["app-root"]],features:[io([vo({provide:ho,useFactory:Ta})])],decls:2,vars:0,consts:[[1,"main"]],template:function(r,o){r&1&&(w(0,"main",0),L(1,"router-outlet"),x())},dependencies:[Je],encapsulation:2})};function nu(){return c(this,null,function*(){try{if(yield co(nr,ya),"serviceWorker"in navigator)try{let e=yield navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase/"})}catch(e){console.error("firebase sw registration failed:",e)}}catch(e){console.error("Bootstrap failed: ",e)}})}nu();
