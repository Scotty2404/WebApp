import{a as T}from"./chunk-KT2D3BEN.js";import{E as Ce,F as Me,G as ye,H as Ie,I as Pe,J as _e,K as De,L as Se,M as we,N as xe,O as ke,P as O,c as ne,d as ae,n as me}from"./chunk-LZ4J4AIH.js";import{a as N}from"./chunk-E4HBCLDV.js";import{$b as Z,$c as g,B as I,Ba as l,Ca as C,Db as M,Eb as y,Ha as z,Kc as $,Ma as H,Oa as q,Pa as U,Pc as re,Qc as x,Ra as J,Rc as oe,Sa as K,Sc as v,Ta as c,Ua as o,Va as r,W as b,Wa as d,_a as D,_b as S,ab as f,bb as Q,bc as ee,ca as P,da as _,ec as te,fd as k,gc as w,gd as pe,hc as ie,id as de,jd as se,kc as V,lb as W,ld as le,nb as X,nd as F,pb as p,pd as ce,qd as ue,rb as u,sd as fe,td as ve,ua as m,ud as ge,vd as he,wb as Y,wd as be,xa as s}from"./chunk-PYHIAX6W.js";var E=class i{pet;select=new z;static \u0275fac=function(e){return new(e||i)};static \u0275cmp=l({type:i,selectors:[["app-pet-card"]],inputs:{pet:"pet"},outputs:{select:"select"},decls:9,vars:2,consts:[["appearance","outlined",1,"pet-card",3,"click"],[1,"pet-card-content"],[1,"pet-info"]],template:function(e,n){e&1&&(o(0,"mat-card",0),f("click",function(){return n.select.emit(n.pet.id)}),o(1,"div",1)(2,"div",2)(3,"mat-card-title"),p(4),r(),o(5,"mat-card-subtitle"),p(6),r()(),o(7,"mat-icon"),p(8,"chevron_right"),r()()()),e&2&&(m(4),u(" ",n.pet.name," "),m(2),u(" ",n.pet.species," "))},dependencies:[se,k,de,pe,oe],styles:[".pet-card[_ngcontent-%COMP%]{background-color:var(--background-color)}.pet-card-content[_ngcontent-%COMP%]{display:flex;padding-left:1rem;justify-content:space-between;align-items:center}"]})};var Ee=(i,t)=>t.id;function Ae(i,t){if(i&1){let e=D();o(0,"app-pet-card",5),f("click",function(){let a=P(e).$implicit,L=Q();return _(L.openPet(a))}),r()}if(i&2){let e=t.$implicit;c("pet",e)}}var A=class i{constructor(t,e){this.router=t;this.store=e}pets$;userId;ngOnInit(){this.store.select(N).pipe(I(1)).subscribe(t=>{t&&(this.userId=t.id)}),this.store.dispatch(T.loadPets({userId:this.userId})),this.pets$=this.store.select(ne)}openPet(t){this.router.navigate(["/dashboard/details",t.id])}addPet(){this.router.navigate(["/dashboard/add"])}static \u0275fac=function(e){return new(e||i)(s(w),s(g))};static \u0275cmp=l({type:i,selectors:[["app-overview"]],decls:7,vars:2,consts:[[1,"dashboard"],[1,"header"],["pageTitle","Meine Haustiere","additionalButton","/dashboard/add","iconSlot","add"],[1,"pet-grid"],[3,"pet"],[3,"click","pet"]],template:function(e,n){e&1&&(o(0,"section",0)(1,"div",1),d(2,"app-title",2),r(),o(3,"div",3),J(4,Ae,1,1,"app-pet-card",4,Ee),M(6,"async"),r()()),e&2&&(m(4),K(y(6,0,n.pets$)))},dependencies:[x,E,O,v,S],styles:[".dashboard[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;padding-bottom:1rem}.pet-grid[_ngcontent-%COMP%]{display:grid;gap:.5rem}.add-btn[_ngcontent-%COMP%]{background-color:var(--secondary-color);color:var(--text-primary)}"]})};var Ne=(()=>{class i{get vertical(){return this._vertical}set vertical(e){this._vertical=$(e)}_vertical=!1;get inset(){return this._inset}set inset(e){this._inset=$(e)}_inset=!1;static \u0275fac=function(n){return new(n||i)};static \u0275cmp=l({type:i,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(n,a){n&2&&(H("aria-orientation",a.vertical?"vertical":"horizontal"),X("mat-divider-vertical",a.vertical)("mat-divider-horizontal",!a.vertical)("mat-divider-inset",a.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(n,a){},styles:[`.mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline-variant));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline-variant));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}
`],encapsulation:2,changeDetection:0})}return i})();function Re(i,t){if(i&1&&(o(0,"section",0),d(1,"app-title",1)(2,"mat-divider"),o(3,"div",2)(4,"p"),p(5),r(),o(6,"p"),p(7),r(),o(8,"p"),p(9),M(10,"date"),r()(),d(11,"div",3),r()),i&2){let e=t;m(),c("pageTitle",e.name||"Details"),m(4),u("Spezies: ",e.species),m(2),u("Rasse: ",e.breed),m(2),u("Geburtstag: ",y(10,4,e.birthDate.toDate()))}}var R=class i{constructor(t,e){this.route=t;this.store=e}pet$;ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t&&(this.pet$=this.store.select(ae(t)))}static \u0275fac=function(e){return new(e||i)(s(te),s(g))};static \u0275cmp=l({type:i,selectors:[["app-detail"]],decls:2,vars:3,consts:[[1,"pet-detail"],["routerLink","/dashboard",3,"pageTitle"],[1,"info"],[1,"detailed-information"]],template:function(e,n){if(e&1&&(q(0,Re,12,6,"section",0),M(1,"async")),e&2){let a;U((a=y(1,1,n.pet$))?0:-1,a)}},dependencies:[v,Ne,S,Z],encapsulation:2})};var j=class i{constructor(t,e,n){this.fb=t;this.store=e;this.router=n}petForm;userId;ngOnInit(){this.petForm=this.fb.group({name:["",F.required],species:["",F.required],breed:[""],birthDate:["",F.required]}),this.store.select(N).pipe(I(1)).subscribe(t=>{t&&(this.userId=t.id)})}onSubmit(){if(this.petForm.invalid||!this.userId)return;let t=this.petForm.value,e={name:t.name,species:t.species,breed:t.breed,birthDate:me.fromDate(t.birthDate)};console.log(this.userId);let n=this.petForm.value;this.store.dispatch(T.addPet({userId:this.userId,pet:t})),this.router.navigate(["/dashboard"])}static \u0275fac=function(e){return new(e||i)(s(he),s(g),s(w))};static \u0275cmp=l({type:i,selectors:[["app-add-pet"]],features:[Y([ke()])],decls:25,vars:4,consts:[["picker",""],["pageTitle","Neues Tier anlegen","routerLink","/dashboard"],[1,"pet-form-card"],[1,"pet-form",3,"ngSubmit","formGroup"],["appearance","outline"],["matInput","","formControlName","name"],["matInput","","formControlName","species"],["matInput","","formControlName","breed"],["matInput","","formControlName","birthDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],[1,"form-actions"],["matButton","elevated","color","primary","type","submit",3,"disabled"]],template:function(e,n){if(e&1){let a=D();d(0,"app-title",1),o(1,"mat-card",2)(2,"form",3),f("ngSubmit",function(){return P(a),_(n.onSubmit())}),o(3,"mat-form-field",4)(4,"mat-label"),p(5,"Name"),r(),d(6,"input",5),r(),o(7,"mat-form-field",4)(8,"mat-label"),p(9,"Art des Tieres"),r(),d(10,"input",6),r(),o(11,"mat-form-field",4)(12,"mat-label"),p(13,"Rasse"),r(),d(14,"input",7),r(),o(15,"mat-form-field",4)(16,"mat-label"),p(17,"Geburtsdatum"),r(),d(18,"input",8)(19,"mat-datepicker-toggle",9)(20,"mat-datepicker",null,0),r(),o(22,"div",10)(23,"button",11),p(24," Haustier hinzuf\xFCgen "),r()()()()}if(e&2){let a=W(21);m(2),c("formGroup",n.petForm),m(16),c("matDatepicker",a),m(),c("for",a),m(4),c("disabled",n.petForm.invalid)}},dependencies:[be,fe,le,ce,ue,ve,ge,O,ie,v,k,Ie,ye,Ce,Me,_e,Pe,x,re,xe,De,Se,we],styles:[".pet-form-card[_ngcontent-%COMP%]{margin:2rem auto;padding:2rem}.pet-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}"]})};var je=[{path:"",redirectTo:"overview",pathMatch:"full"},{path:"overview",component:A,data:{title:"PetCheck",subtitle:"Meine Haustiere",returnLink:""}},{path:"details/:id",component:R,data:{title:"PetCheck",subtitle:"Details",returnLink:"/overview"}},{path:"add",component:j,data:{title:"PetCheck",subtitle:"Hinzuf\xFCgen",returnLink:"/overview"}}],B=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=C({type:i});static \u0275inj=b({imports:[V.forChild(je),V]})};var Te=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=C({type:i});static \u0275inj=b({imports:[ee,B]})};export{Te as DashboardModule};
